{"uid":"d79a246e7f3c64b","name":"test_failover","fullName":"tests.integration.high_availability.test_async_replication#test_failover","historyId":"d680fcf1a4cbc016b398bf40c87184f1","time":{"start":1743385491742,"stop":1743385491742,"duration":0},"description":"Test switchover on primary cluster fail.","descriptionHtml":"<p>Test switchover on primary cluster fail.</p>\n","status":"skipped","statusMessage":"XFAIL reason: aborted\n\n_pytest.outcomes.XFailed: aborted","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 157, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 497, in setup\n    raise exc\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 494, in setup\n    col.setup()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1795, in setup\n    self._request._fillfixtures()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 566, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 585, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1069, in execute\n    result = ihook.pytest_fixture_setup(fixturedef=self, request=request)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_operator/plugin.py\", line 228, in abort_on_fail\n    pytest.xfail(\"aborted\")\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/outcomes.py\", line 256, in xfail\n    raise XFailed(reason)\n_pytest.outcomes.XFailed: aborted","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1743384605578,"stop":1743384605578,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1743384605579,"stop":1743384605579,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1743384605579,"stop":1743384605696,"duration":117},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1743384605696,"stop":1743384606357,"duration":661},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1743384605696,"stop":1743384605696,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1743385491743,"stop":1743385491743,"duration":0},"status":"failed","statusMessage":"_pytest.outcomes.XFailed: aborted\n","statusTrace":"  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/fixtures.py\", line 895, in call_fixture_func\n    fixture_result = next(generator)\n                     ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_operator/plugin.py\", line 228, in abort_on_fail\n    pytest.xfail(\"aborted\")\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/outcomes.py\", line 256, in xfail\n    raise XFailed(reason)\n","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"second_model::finalizer","time":{"start":1743385491754,"stop":1743385491792,"duration":38},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1743385491793,"stop":1743385498234,"duration":6441},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1743385498240,"stop":1743385498240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1743385498240,"stop":1743385498240,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1743385498241,"stop":1743385498242,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3+')"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"fv-az1315-16"},{"name":"thread","value":"13999-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c03bd5b90f9e48d9","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":4,"broken":2,"skipped":45,"passed":236,"unknown":7,"total":294},"items":[{"uid":"96983fbfa47ba1b1","reportUrl":"../3685//#testresult/96983fbfa47ba1b1","status":"passed","time":{"start":1743298993022,"stop":1743299263438,"duration":270416}},{"uid":"67526760ee69e3b4","reportUrl":"../3684//#testresult/67526760ee69e3b4","status":"passed","time":{"start":1743212538885,"stop":1743212810893,"duration":272008}},{"uid":"70cab4592c3c6196","reportUrl":"../3681//#testresult/70cab4592c3c6196","status":"passed","time":{"start":1743126266609,"stop":1743126535609,"duration":269000}},{"uid":"7f35624e7ee73c52","reportUrl":"../3680//#testresult/7f35624e7ee73c52","status":"passed","time":{"start":1743039880325,"stop":1743040152889,"duration":272564}},{"uid":"c399009ebfd0c5ab","reportUrl":"../3677//#testresult/c399009ebfd0c5ab","status":"passed","time":{"start":1742953514797,"stop":1742953782332,"duration":267535}},{"uid":"d391195eda19d8e6","reportUrl":"../3672//#testresult/d391195eda19d8e6","status":"passed","time":{"start":1742867058288,"stop":1742867328868,"duration":270580}},{"uid":"29a9b637356de48b","reportUrl":"../3671//#testresult/29a9b637356de48b","status":"passed","time":{"start":1742780911126,"stop":1742781178262,"duration":267136}},{"uid":"b2d285415c35da6f","reportUrl":"../3670//#testresult/b2d285415c35da6f","status":"broken","statusDetails":"KeyError: 'clusters'","time":{"start":1742694384574,"stop":1742694468341,"duration":83767}},{"uid":"e7ebb8633e35ba4d","reportUrl":"../3669//#testresult/e7ebb8633e35ba4d","status":"passed","time":{"start":1742607916306,"stop":1742608187718,"duration":271412}},{"uid":"f450e54ba934d52d","reportUrl":"../3668//#testresult/f450e54ba934d52d","status":"passed","time":{"start":1742521541699,"stop":1742521816019,"duration":274320}},{"uid":"c1950a3abc8ec3c1","reportUrl":"../3665//#testresult/c1950a3abc8ec3c1","status":"passed","time":{"start":1742435071922,"stop":1742435342338,"duration":270416}},{"uid":"3dae35cea1ac2416","reportUrl":"../3663//#testresult/3dae35cea1ac2416","status":"passed","time":{"start":1742348681850,"stop":1742348953817,"duration":271967}},{"uid":"991e1a79a5370980","reportUrl":"../3658//#testresult/991e1a79a5370980","status":"passed","time":{"start":1742262463711,"stop":1742262734570,"duration":270859}},{"uid":"b2392f976bba4472","reportUrl":"../3657//#testresult/b2392f976bba4472","status":"passed","time":{"start":1742003018413,"stop":1742003292345,"duration":273932}},{"uid":"be4f6a720ce48ad9","reportUrl":"../3655//#testresult/be4f6a720ce48ad9","status":"passed","time":{"start":1741916676988,"stop":1741916953704,"duration":276716}},{"uid":"69d74b9c758099d0","reportUrl":"../3653//#testresult/69d74b9c758099d0","status":"passed","time":{"start":1741830312102,"stop":1741830581328,"duration":269226}},{"uid":"a5bb3f3640a7bda8","reportUrl":"../3651//#testresult/a5bb3f3640a7bda8","status":"passed","time":{"start":1741743883577,"stop":1741744156487,"duration":272910}},{"uid":"f9024fd0c2dab2e3","reportUrl":"../3638//#testresult/f9024fd0c2dab2e3","status":"passed","time":{"start":1741571082723,"stop":1741571358107,"duration":275384}},{"uid":"e03dc1b308262027","reportUrl":"../3637//#testresult/e03dc1b308262027","status":"passed","time":{"start":1741484612728,"stop":1741484887203,"duration":274475}},{"uid":"642fa19d31e555ed","reportUrl":"../3636//#testresult/642fa19d31e555ed","status":"passed","time":{"start":1741398215778,"stop":1741398490905,"duration":275127}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3+')"]},"source":"d79a246e7f3c64b.json","parameterValues":[]}