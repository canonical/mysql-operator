{"uid":"f83c53c06ff92f21","name":"test_rollback_without_pre_upgrade_check","fullName":"tests.integration.high_availability.test_upgrade_skip_pre_upgrade_check#test_rollback_without_pre_upgrade_check","historyId":"ad75376ef7c5a9fdda9d73e479022ff2","time":{"start":1731116387447,"stop":1731116407050,"duration":19603},"description":"Test refresh back to stable channel.","descriptionHtml":"<p>Test refresh back to stable channel.</p>\n","status":"broken","statusMessage":"juju.errors.JujuUnitError: Unit in error: mysql/1","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/high_availability/test_upgrade_skip_pre_upgrade_check.py\", line 111, in test_rollback_without_pre_upgrade_check\n    await ops_test.model.wait_for_idle(\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2964, in wait_for_idle\n    _raise_for_status(errors, \"error\")\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2870, in _raise_for_status\n    raise error_type(\"{}{} in {}: {}\".format(\njuju.errors.JujuUnitError: Unit in error: mysql/1","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"ops_test","time":{"start":1731115888703,"stop":1731115888831,"duration":128},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1731115888703,"stop":1731115888703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1731115888703,"stop":1731115888703,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1731116387446,"stop":1731116387446,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test refresh back to stable channel.","status":"broken","statusMessage":"juju.errors.JujuUnitError: Unit in error: mysql/1","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/high_availability/test_upgrade_skip_pre_upgrade_check.py\", line 111, in test_rollback_without_pre_upgrade_check\n    await ops_test.model.wait_for_idle(\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2964, in wait_for_idle\n    _raise_for_status(errors, \"error\")\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2870, in _raise_for_status\n    raise error_type(\"{}{} in {}: {}\".format(\njuju.errors.JujuUnitError: Unit in error: mysql/1","steps":[],"attachments":[{"uid":"172a8aff34194145","name":"log","source":"172a8aff34194145.txt","type":"text/plain","size":11831}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1731116407105,"stop":1731116407105,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1731116407106,"stop":1731116407569,"duration":463},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1731116407569,"stop":1731116407569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1731116407569,"stop":1731116407569,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1731116407569,"stop":1731116407570,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires amd64 architecture')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_upgrade_skip_pre_upgrade_check"},{"name":"host","value":"fv-az1200-98"},{"name":"thread","value":"15912-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_upgrade_skip_pre_upgrade_check"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"98a05b3357be2ae8","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":30,"unknown":1,"total":33},"items":[{"uid":"aae687e3d3fd2219","reportUrl":"../3135//#testresult/aae687e3d3fd2219","status":"unknown","time":{}},{"uid":"a60fed02d98b2684","reportUrl":"../3133//#testresult/a60fed02d98b2684","status":"passed","time":{"start":1730944113532,"stop":1730944238988,"duration":125456}},{"uid":"fc79a029dee755b5","reportUrl":"../3132//#testresult/fc79a029dee755b5","status":"passed","time":{"start":1730857189105,"stop":1730857314343,"duration":125238}},{"uid":"13fb0e814380f965","reportUrl":"../3131//#testresult/13fb0e814380f965","status":"passed","time":{"start":1730771490717,"stop":1730771616431,"duration":125714}},{"uid":"f17a0b31202df16","reportUrl":"../3130//#testresult/f17a0b31202df16","status":"passed","time":{"start":1730684553920,"stop":1730684679039,"duration":125119}},{"uid":"79c0bf4b4274320c","reportUrl":"../3128//#testresult/79c0bf4b4274320c","status":"passed","time":{"start":1730598109323,"stop":1730598234860,"duration":125537}},{"uid":"180f9fcb75d053fb","reportUrl":"../3127//#testresult/180f9fcb75d053fb","status":"passed","time":{"start":1730511635144,"stop":1730511760170,"duration":125026}},{"uid":"ae8cc2bfb4225518","reportUrl":"../3125//#testresult/ae8cc2bfb4225518","status":"passed","time":{"start":1730425268414,"stop":1730425393664,"duration":125250}},{"uid":"bc5bf9c0a3f6a7f4","reportUrl":"../3123//#testresult/bc5bf9c0a3f6a7f4","status":"passed","time":{"start":1730338912656,"stop":1730339047793,"duration":135137}},{"uid":"6b14dd169596a698","reportUrl":"../3121//#testresult/6b14dd169596a698","status":"passed","time":{"start":1730252509037,"stop":1730252635026,"duration":125989}},{"uid":"cd18e447492c1ee7","reportUrl":"../3119//#testresult/cd18e447492c1ee7","status":"passed","time":{"start":1730166212891,"stop":1730166338273,"duration":125382}},{"uid":"1888928f9d886dc9","reportUrl":"../3118//#testresult/1888928f9d886dc9","status":"passed","time":{"start":1730079649222,"stop":1730079774783,"duration":125561}},{"uid":"c7819dcfe39d233a","reportUrl":"../3116//#testresult/c7819dcfe39d233a","status":"broken","statusDetails":"juju.errors.JujuUnitError: Units in error: mysql/0, mysql/2","time":{"start":1729993594567,"stop":1729993606800,"duration":12233}},{"uid":"710b4c24f3dcf6a1","reportUrl":"../3115//#testresult/710b4c24f3dcf6a1","status":"passed","time":{"start":1729906893339,"stop":1729907028578,"duration":135239}},{"uid":"63ef95b979146beb","reportUrl":"../3113//#testresult/63ef95b979146beb","status":"passed","time":{"start":1729820463478,"stop":1729820588789,"duration":125311}},{"uid":"692084af17323ffa","reportUrl":"../3110//#testresult/692084af17323ffa","status":"passed","time":{"start":1729734133100,"stop":1729734268868,"duration":135768}},{"uid":"ceb01e27ca163f52","reportUrl":"../3107//#testresult/ceb01e27ca163f52","status":"passed","time":{"start":1729647648634,"stop":1729647774439,"duration":125805}},{"uid":"7f0021f60896c367","reportUrl":"../3105//#testresult/7f0021f60896c367","status":"passed","time":{"start":1729561713961,"stop":1729561839587,"duration":125626}},{"uid":"336f3b541a98ef06","reportUrl":"../3104//#testresult/336f3b541a98ef06","status":"passed","time":{"start":1729474858145,"stop":1729474983123,"duration":124978}},{"uid":"3f3dcfd4213aaeac","reportUrl":"../3103//#testresult/3f3dcfd4213aaeac","status":"passed","time":{"start":1729388388264,"stop":1729388513513,"duration":125249}}]},"tags":["asyncio","@pytest.mark.skipif(False, reason='Requires amd64 architecture')","group(1)"]},"source":"f83c53c06ff92f21.json","parameterValues":[]}