{"uid":"ca1d39c2c719caa","name":"test_rollback_without_pre_upgrade_check","fullName":"tests.integration.high_availability.test_upgrade_skip_pre_upgrade_check#test_rollback_without_pre_upgrade_check","historyId":"ad75376ef7c5a9fdda9d73e479022ff2","time":{"start":1762656459914,"stop":1762656482982,"duration":23068},"description":"Test refresh back to stable channel.","descriptionHtml":"<p>Test refresh back to stable channel.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1762656088240,"stop":1762656092584,"duration":4344},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"charm","time":{"start":1762656430874,"stop":1762656430874,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1762656430874,"stop":1762656430874,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1762656459913,"stop":1762656459913,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test refresh back to stable channel.","status":"passed","steps":[],"attachments":[{"uid":"19bf2ca58b30cc5d","name":"log","source":"19bf2ca58b30cc5d.txt","type":"text/plain","size":1680}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1762656482982,"stop":1762656482982,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1762656482983,"stop":1762656483424,"duration":441},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1762656483426,"stop":1762656483427,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1762656483427,"stop":1762656483427,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1762656483427,"stop":1762656483427,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_upgrade_skip_pre_upgrade_check"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"14787-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_upgrade_skip_pre_upgrade_check"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"1e45e119a79bcb65","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":9,"skipped":1,"passed":359,"unknown":6,"total":375},"items":[{"uid":"ce97ff52164fb7ee","reportUrl":"../4353//#testresult/ce97ff52164fb7ee","status":"passed","time":{"start":1762572220901,"stop":1762572246813,"duration":25912}},{"uid":"85f5534f457c72f6","reportUrl":"../4349//#testresult/85f5534f457c72f6","status":"passed","time":{"start":1762480437087,"stop":1762480459930,"duration":22843}},{"uid":"b863f06ce558fe9d","reportUrl":"../4347//#testresult/b863f06ce558fe9d","status":"passed","time":{"start":1762410971332,"stop":1762410993534,"duration":22202}},{"uid":"f652d2a8b4bae968","reportUrl":"../4344//#testresult/f652d2a8b4bae968","status":"passed","time":{"start":1762307254236,"stop":1762307276718,"duration":22482}},{"uid":"643fcb24ad670aa1","reportUrl":"../4340//#testresult/643fcb24ad670aa1","status":"passed","time":{"start":1762242256231,"stop":1762242276707,"duration":20476}},{"uid":"cc260fb4970f40be","reportUrl":"../4339//#testresult/cc260fb4970f40be","status":"passed","time":{"start":1762134797922,"stop":1762134819734,"duration":21812}},{"uid":"ca7402fd5fba3919","reportUrl":"../4338//#testresult/ca7402fd5fba3919","status":"passed","time":{"start":1762048523514,"stop":1762048547733,"duration":24219}},{"uid":"1700d4382932e4f3","reportUrl":"../4337//#testresult/1700d4382932e4f3","status":"passed","time":{"start":1761962064789,"stop":1761962088870,"duration":24081}},{"uid":"ecb6c84195f78daa","reportUrl":"../4333//#testresult/ecb6c84195f78daa","status":"passed","time":{"start":1761876099823,"stop":1761876120899,"duration":21076}},{"uid":"32ffd4bc2b044830","reportUrl":"../4331//#testresult/32ffd4bc2b044830","status":"passed","time":{"start":1761827166805,"stop":1761827187375,"duration":20570}},{"uid":"272834c7e950a736","reportUrl":"../4329//#testresult/272834c7e950a736","status":"passed","time":{"start":1761703100822,"stop":1761703121781,"duration":20959}},{"uid":"160427bb80b3331b","reportUrl":"../4320//#testresult/160427bb80b3331b","status":"broken","statusDetails":"mysql.connector.errors.ProgrammingError: 1049 (42000): Unknown database 'continuous_writes'","time":{"start":1761618469119,"stop":1761618482828,"duration":13709}},{"uid":"b961d3ded7c8ae73","reportUrl":"../4317//#testresult/b961d3ded7c8ae73","status":"passed","time":{"start":1761530107791,"stop":1761530126957,"duration":19166}},{"uid":"a6559c47eef49855","reportUrl":"../4316//#testresult/a6559c47eef49855","status":"passed","time":{"start":1761443279465,"stop":1761443301905,"duration":22440}},{"uid":"98bb5b75f1602ca","reportUrl":"../4315//#testresult/98bb5b75f1602ca","status":"passed","time":{"start":1761359359220,"stop":1761359381886,"duration":22666}},{"uid":"7cfa772c149e43d3","reportUrl":"../4309//#testresult/7cfa772c149e43d3","status":"passed","time":{"start":1761271249790,"stop":1761271276532,"duration":26742}},{"uid":"bd6eb659bee40f85","reportUrl":"../4303//#testresult/bd6eb659bee40f85","status":"passed","time":{"start":1761185424141,"stop":1761185445204,"duration":21063}},{"uid":"26a85df4ad863c04","reportUrl":"../4295//#testresult/26a85df4ad863c04","status":"passed","time":{"start":1761103861136,"stop":1761103886063,"duration":24927}},{"uid":"ffe09ac6639b2f6b","reportUrl":"../4283//#testresult/ffe09ac6639b2f6b","status":"passed","time":{"start":1761011346630,"stop":1761011369425,"duration":22795}},{"uid":"da64597e5866a34d","reportUrl":"../4280//#testresult/da64597e5866a34d","status":"broken","statusDetails":"TimeoutError: wait timed out after 600s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='iaas',\n    controller='concierge-lxd',\n    cloud='localhost',\n    version='3.6.9',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='20 Oct 2025 01:47:30Z'),\n    sla='unsupported',\n  ),\n  machines={\n    '0': MachineStatus(\n      juju_status=StatusInfo(current='down', message='agent is not communicating with the server', since='20 Oct 2025 01:49:26Z'),\n      dns_name='10.116.86.181',\n      ip_addresses=['10.116.86.181'],\n      instance_id='juju-306cf3-0',\n      machine_status=StatusInfo(current='running', message='Running', since='20 Oct 2025 01:50:53Z'),\n      modification_status=StatusInfo(current='applied', since='20 Oct 2025 01:50:12Z'),\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      constraints='arch=amd64',\n      hardware='arch=amd64 cores=0 mem=0M availability-zone=runnervmzdgdc virt-type=container',\n    ),\n    '1': MachineStatus(\n      juju_status=StatusInfo(current='pending', since='20 Oct 2025 01:48:18Z'),\n      dns_name='10.116.86.145',\n      ip_addresses=['10.116.86.145'],\n      instance_id='juju-306cf3-1',\n      machine_status=StatusInfo(current='running', message='Running', since='20 Oct 2025 01:49:05Z'),\n      modification_status=StatusInfo(current='applied', since='20 Oct 2025 01:48:47Z'),\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      constraints='arch=amd64',\n      hardware='arch=amd64 cores=0 mem=0M availability-zone=runnervmzdgdc virt-type=container',\n    ),\n    '2': MachineStatus(\n      juju_status=StatusInfo(current='down', message='agent is not communicating with the server', since='20 Oct 2025 01:49:26Z'),\n      dns_name='10.116.86.134',\n      ip_addresses=['10.116.86.134'],\n      instance_id='juju-306cf3-2',\n      machine_status=StatusInfo(current='running', message='Running', since='20 Oct 2025 01:49:53Z'),\n      modification_status=StatusInfo(current='applied', since='20 Oct 2025 01:49:43Z'),\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      constraints='arch=amd64',\n      hardware='arch=amd64 cores=0 mem=0M availability-zone=runnervmzdgdc virt-type=container',\n    ),\n    '3': MachineStatus(\n      juju_status=StatusInfo(current='down', message='agent is not communicating with the server', since='20 Oct 2025 01:49:26Z'),\n      dns_name='10.116.86.86',\n      ip_addresses=['10.116.86.86'],\n      instance_id='juju-306cf3-3',\n      machine_status=StatusInfo(current='running', message='Running', since='20 Oct 2025 01:50:56Z'),\n      modification_status=StatusInfo(current='applied', since='20 Oct 2025 01:49:57Z'),\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      constraints='arch=amd64',\n      hardware='arch=amd64 cores=0 mem=0M availability-zone=runnervmzdgdc virt-type=container',\n    ),\n  },\n  apps={\n    'mysql': AppStatus(\n      charm='mysql',\n      charm_origin='charmhub',\n      charm_name='mysql',\n      charm_rev=366,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='8.0/stable',\n      app_status=StatusInfo(current='waiting', message='waiting for machine', since='20 Oct 2025 01:48:18Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='mysql-test-app', interface='mysql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='mysql', interface='mysql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='mysql', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='mysql', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'mysql/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting for machine', since='20 Oct 2025 01:48:18Z'),\n          juju_status=StatusInfo(current='allocating', since='20 Oct 2025 01:48:18Z'),\n          machine='0',\n          public_address='10.116.86.181',\n        ),\n        'mysql/1': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting for machine', since='20 Oct 2025 01:48:18Z'),\n          juju_status=StatusInfo(current='allocating', since='20 Oct 2025 01:48:18Z'),\n          machine='1',\n          public_address='10.116.86.145',\n        ),\n        'mysql/2': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting for machine', since='20 Oct 2025 01:48:18Z'),\n          juju_status=StatusInfo(current='allocating', since='20 Oct 2025 01:48:18Z'),\n          machine='2',\n          public_address='10.116.86.134',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'cos-agent': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db-router': 'alpha',\n        'mysql': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'shared-db': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'mysql-test-app': AppStatus(\n      charm='mysql-test-app',\n      charm_origin='charmhub',\n      charm_name='mysql-test-app',\n      charm_rev=85,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      app_status=StatusInfo(current='waiting', message='waiting for machine', since='20 Oct 2025 01:48:19Z'),\n      relations={\n        'application-peers': [\n          AppStatusRelation(related_app='mysql-test-app', interface='application-peers', scope='global'),\n        ],\n        'database': [\n          AppStatusRelation(related_app='mysql', interface='mysql_client', scope='global'),\n        ],\n      },\n      units={\n        'mysql-test-app/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting for machine', since='20 Oct 2025 01:48:19Z'),\n          juju_status=StatusInfo(current='allocating', since='20 Oct 2025 01:48:19Z'),\n          machine='3',\n          public_address='10.116.86.86',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'application-peers': 'alpha', 'database': 'alpha', 'mysql': 'alpha'},\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'database/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='pending', since='20 Oct 2025 01:48:18Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'mysql/0': UnitStorageAttachment(machine='0', life='alive'),\n          },\n        ),\n      ),\n      'database/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='pending', since='20 Oct 2025 01:48:18Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'mysql/1': UnitStorageAttachment(machine='1', life='alive'),\n          },\n        ),\n      ),\n      'database/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='pending', since='20 Oct 2025 01:48:18Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'mysql/2': UnitStorageAttachment(machine='2', life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0/0': FilesystemInfo(\n        size=0,\n        storage='database/0',\n        attachments=FilesystemAttachments(\n          machines={\n            '0': FilesystemAttachment(mount_point='', read_only=False, life='alive'),\n          },\n          units={\n            'mysql/0': UnitStorageAttachment(machine='0', life='alive'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='pending', since='20 Oct 2025 01:48:18Z'),\n      ),\n      '1/1': FilesystemInfo(\n        size=0,\n        storage='database/1',\n        attachments=FilesystemAttachments(\n          machines={\n            '1': FilesystemAttachment(mount_point='', read_only=False, life='alive'),\n          },\n          units={\n            'mysql/1': UnitStorageAttachment(machine='1', life='alive'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='pending', since='20 Oct 2025 01:48:18Z'),\n      ),\n      '2/2': FilesystemInfo(\n        size=0,\n        storage='database/2',\n        attachments=FilesystemAttachments(\n          machines={\n            '2': FilesystemAttachment(mount_point='', read_only=False, life='alive'),\n          },\n          units={\n            'mysql/2': UnitStorageAttachment(machine='2', life='alive'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='pending', since='20 Oct 2025 01:48:18Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='02:28:37Z'),\n)","time":{"start":1760926716005,"stop":1760927318701,"duration":602696}}]},"tags":["asyncio","abort_on_fail"]},"source":"ca1d39c2c719caa.json","parameterValues":[]}