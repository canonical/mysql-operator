{"uid":"8422086d667c6527","name":"test_build_and_deploy","fullName":"tests.integration.relations.test_relation_mysql_legacy#test_build_and_deploy","historyId":"664ec01f7a3a3e9faf7ffa8cc9cb0c37","time":{"start":1722649233138,"stop":1722650135596,"duration":902458},"description":"Build the charm and deploy 3 units to ensure a cluster is formed.","descriptionHtml":"<p>Build the charm and deploy 3 units to ensure a cluster is formed.</p>\n","status":"broken","statusMessage":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/relations/test_relation_mysql_legacy.py\", line 78, in test_build_and_deploy\n    await asyncio.gather(\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2757, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nasyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1722649232987,"stop":1722649232987,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1722649232988,"stop":1722649233137,"duration":149},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1722649232988,"stop":1722649232988,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1722649233137,"stop":1722649233137,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Build the charm and deploy 3 units to ensure a cluster is formed.","status":"broken","statusMessage":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/relations/test_relation_mysql_legacy.py\", line 78, in test_build_and_deploy\n    await asyncio.gather(\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2757, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nasyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","steps":[],"attachments":[{"uid":"3f12a7089d02d4a9","name":"log","source":"3f12a7089d02d4a9.txt","type":"text/plain","size":6097}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1722650135599,"stop":1722650135599,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1722650135604,"stop":1722650143199,"duration":7595},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1722650143200,"stop":1722650143200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1722650143200,"stop":1722650143200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1722650143200,"stop":1722650143200,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"skip_if_deployed"},{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.relations"},{"name":"suite","value":"test_relation_mysql_legacy"},{"name":"host","value":"fv-az1024-217"},{"name":"thread","value":"7924-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.relations.test_relation_mysql_legacy"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5871a94eeb4137b1","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":2,"skipped":0,"passed":69,"unknown":2,"total":73},"items":[{"uid":"49c3bf73a5eafeca","reportUrl":"../2841//#testresult/49c3bf73a5eafeca","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","time":{"start":1722563193184,"stop":1722564096133,"duration":902949}},{"uid":"7e2828ef9f4d0b21","reportUrl":"../2839//#testresult/7e2828ef9f4d0b21","status":"passed","time":{"start":1722476224134,"stop":1722476489468,"duration":265334}},{"uid":"2a24ba6547bbea5d","reportUrl":"../2836//#testresult/2a24ba6547bbea5d","status":"passed","time":{"start":1722389481831,"stop":1722389752864,"duration":271033}},{"uid":"4d6fccbd800bf8a3","reportUrl":"../2832//#testresult/4d6fccbd800bf8a3","status":"passed","time":{"start":1722303360687,"stop":1722303600983,"duration":240296}},{"uid":"6f010044eea919c6","reportUrl":"../2827//#testresult/6f010044eea919c6","status":"passed","time":{"start":1722216928455,"stop":1722217177974,"duration":249519}},{"uid":"42e00d8511446269","reportUrl":"../2824//#testresult/42e00d8511446269","status":"passed","time":{"start":1722130605483,"stop":1722130852372,"duration":246889}},{"uid":"8a8d0c6268b363cf","reportUrl":"../2819//#testresult/8a8d0c6268b363cf","status":"passed","time":{"start":1722043904327,"stop":1722044146171,"duration":241844}},{"uid":"31c51c2fc1c981a4","reportUrl":"../2811//#testresult/31c51c2fc1c981a4","status":"passed","time":{"start":1721957910282,"stop":1721958177274,"duration":266992}},{"uid":"fb644bb1e0d63491","reportUrl":"../2807//#testresult/fb644bb1e0d63491","status":"passed","time":{"start":1721871715461,"stop":1721871990992,"duration":275531}},{"uid":"29d76e7e172cf143","reportUrl":"../2802//#testresult/29d76e7e172cf143","status":"passed","time":{"start":1721785054779,"stop":1721785315870,"duration":261091}},{"uid":"1ef95e8bb5642ff4","reportUrl":"../2797//#testresult/1ef95e8bb5642ff4","status":"passed","time":{"start":1721698461639,"stop":1721698736766,"duration":275127}},{"uid":"a638b32f80cca875","reportUrl":"../2787//#testresult/a638b32f80cca875","status":"passed","time":{"start":1721612101179,"stop":1721612379251,"duration":278072}},{"uid":"93ab74e95ad143a1","reportUrl":"../2786//#testresult/93ab74e95ad143a1","status":"passed","time":{"start":1721525676370,"stop":1721525933756,"duration":257386}},{"uid":"fa80cb2823f56b4a","reportUrl":"../2785//#testresult/fa80cb2823f56b4a","status":"passed","time":{"start":1721439185985,"stop":1721439446973,"duration":260988}},{"uid":"17cd893153f863aa","reportUrl":"../2776//#testresult/17cd893153f863aa","status":"passed","time":{"start":1721266722627,"stop":1721267001659,"duration":279032}},{"uid":"790678738c59596e","reportUrl":"../2773//#testresult/790678738c59596e","status":"passed","time":{"start":1721180328368,"stop":1721180575825,"duration":247457}},{"uid":"5f1ffeb4b34b3ea2","reportUrl":"../2769//#testresult/5f1ffeb4b34b3ea2","status":"passed","time":{"start":1721093681576,"stop":1721093960643,"duration":279067}},{"uid":"1efcca50924ef3f9","reportUrl":"../2764//#testresult/1efcca50924ef3f9","status":"unknown","time":{}},{"uid":"eb6c00116d0ccc8e","reportUrl":"../2763//#testresult/eb6c00116d0ccc8e","status":"passed","time":{"start":1720921271939,"stop":1720921545551,"duration":273612}},{"uid":"8c1c74cacf78c363","reportUrl":"../2762//#testresult/8c1c74cacf78c363","status":"passed","time":{"start":1720834698332,"stop":1720834956995,"duration":258663}}]},"tags":["skip_if_deployed","asyncio","abort_on_fail","group(1)"]},"source":"8422086d667c6527.json","parameterValues":[]}