{"uid":"c13813921d9e424a","name":"test_restore_on_new_cluster","fullName":"tests.integration.test_backup_ceph#test_restore_on_new_cluster","historyId":"afb96cc03f64ca49d451d7ae0dbb9366","time":{"start":1727314290535,"stop":1727314290535,"duration":0},"description":"Test to restore a backup on a new mysql cluster.","descriptionHtml":"<p>Test to restore a backup on a new mysql cluster.</p>\n","status":"broken","statusMessage":"subprocess.CalledProcessError: Command '['sudo', 'microceph', 'cluster', 'bootstrap']' returned non-zero exit status 1.","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 157, in pytest_runtest_setup\n    item.session._setupstate.setup(item)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 497, in setup\n    raise exc\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 494, in setup\n    col.setup()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1795, in setup\n    self._request._fillfixtures()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 566, in _fillfixtures\n    item.funcargs[argname] = self.getfixturevalue(argname)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 585, in getfixturevalue\n    fixturedef = self._get_active_fixturedef(argname)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1045, in execute\n    fixturedef = request._get_active_fixturedef(argname)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1045, in execute\n    fixturedef = request._get_active_fixturedef(argname)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 607, in _get_active_fixturedef\n    self._compute_fixture_value(fixturedef)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 693, in _compute_fixture_value\n    fixturedef.execute(request=subrequest)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1059, in execute\n    raise val.with_traceback(tb)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_microceph/_plugin.py\", line 26, in microceph\n    subprocess.run([\"sudo\", \"microceph\", \"cluster\", \"bootstrap\"], check=True)\n  File \"/usr/lib/python3.10/subprocess.py\", line 526, in run\n    raise CalledProcessError(retcode, process.args,\nsubprocess.CalledProcessError: Command '['sudo', 'microceph', 'cluster', 'bootstrap']' returned non-zero exit status 1.","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1727314280226,"stop":1727314280227,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"microceph","time":{"start":1727314280227,"stop":1727314290487,"duration":10260},"status":"broken","statusMessage":"subprocess.CalledProcessError: Command '['sudo', 'microceph', 'cluster', 'bootstrap']' returned non-zero exit status 1.\n","statusTrace":"  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 1123, in pytest_fixture_setup\n    result = call_fixture_func(fixturefunc, request, kwargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/fixtures.py\", line 902, in call_fixture_func\n    fixture_result = fixturefunc(**kwargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_microceph/_plugin.py\", line 26, in microceph\n    subprocess.run([\"sudo\", \"microceph\", \"cluster\", \"bootstrap\"], check=True)\n  File \"/usr/lib/python3.10/subprocess.py\", line 526, in run\n    raise CalledProcessError(retcode, process.args,\n","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":0,"hasContent":true,"attachmentStep":false}],"afterStages":[{"name":"event_loop::2","time":{"start":1727314290536,"stop":1727314290536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1727314290536,"stop":1727314290536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1727314290536,"stop":1727314290536,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_backup_ceph"},{"name":"host","value":"fv-az692-464"},{"name":"thread","value":"15711-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_backup_ceph"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"1c1b20f8c1dde3f4","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":4,"passed":70,"unknown":6,"total":81},"items":[{"uid":"7c69de695dceb01a","reportUrl":"../3031//#testresult/7c69de695dceb01a","status":"passed","time":{"start":1727228893800,"stop":1727229178459,"duration":284659}},{"uid":"7b400b2bff3b3ef1","reportUrl":"../3026//#testresult/7b400b2bff3b3ef1","status":"passed","time":{"start":1727142396627,"stop":1727142658333,"duration":261706}},{"uid":"515fcf7e5f3e61ad","reportUrl":"../3023//#testresult/515fcf7e5f3e61ad","status":"passed","time":{"start":1727056143513,"stop":1727056527057,"duration":383544}},{"uid":"de6d47b9b944b74c","reportUrl":"../3022//#testresult/de6d47b9b944b74c","status":"passed","time":{"start":1726969696512,"stop":1726969979456,"duration":282944}},{"uid":"7e7d6f021ce52988","reportUrl":"../3021//#testresult/7e7d6f021ce52988","status":"passed","time":{"start":1726883173264,"stop":1726883426684,"duration":253420}},{"uid":"83e659e3a9c68c0b","reportUrl":"../3018//#testresult/83e659e3a9c68c0b","status":"passed","time":{"start":1726796791434,"stop":1726797058444,"duration":267010}},{"uid":"25fad1fa6c75bb56","reportUrl":"../3015//#testresult/25fad1fa6c75bb56","status":"unknown","time":{}},{"uid":"2cf578937b26de82","reportUrl":"../3012//#testresult/2cf578937b26de82","status":"passed","time":{"start":1726624011543,"stop":1726624258723,"duration":247180}},{"uid":"349ee12a23aff347","reportUrl":"../3010//#testresult/349ee12a23aff347","status":"passed","time":{"start":1726537607581,"stop":1726537866810,"duration":259229}},{"uid":"928ffe846a5124ba","reportUrl":"../3008//#testresult/928ffe846a5124ba","status":"passed","time":{"start":1726451234441,"stop":1726451519729,"duration":285288}},{"uid":"437cb7a00af3c06f","reportUrl":"../3007//#testresult/437cb7a00af3c06f","status":"passed","time":{"start":1726364958906,"stop":1726365240521,"duration":281615}},{"uid":"ac487f323c2cc941","reportUrl":"../3006//#testresult/ac487f323c2cc941","status":"passed","time":{"start":1726278395497,"stop":1726278658097,"duration":262600}},{"uid":"d12febb735d7fdc","reportUrl":"../3000//#testresult/d12febb735d7fdc","status":"passed","time":{"start":1726192092304,"stop":1726192344415,"duration":252111}},{"uid":"d36724f9ff338aa4","reportUrl":"../2998//#testresult/d36724f9ff338aa4","status":"passed","time":{"start":1726105689153,"stop":1726105974041,"duration":284888}},{"uid":"d41f2ea42fae6ba4","reportUrl":"../2992//#testresult/d41f2ea42fae6ba4","status":"passed","time":{"start":1726019242939,"stop":1726019519968,"duration":277029}},{"uid":"fc3becfe88828dd5","reportUrl":"../2982//#testresult/fc3becfe88828dd5","status":"passed","time":{"start":1725846421789,"stop":1725846683484,"duration":261695}},{"uid":"763d9bfc9b8fbe07","reportUrl":"../2980//#testresult/763d9bfc9b8fbe07","status":"passed","time":{"start":1725673780627,"stop":1725674039128,"duration":258501}},{"uid":"a4ccf08114e462f4","reportUrl":"../2977//#testresult/a4ccf08114e462f4","status":"passed","time":{"start":1725587172596,"stop":1725587423747,"duration":251151}},{"uid":"64f61492b1279242","reportUrl":"../2974//#testresult/64f61492b1279242","status":"passed","time":{"start":1725500843822,"stop":1725501085102,"duration":241280}},{"uid":"300e11f174be2a87","reportUrl":"../2968//#testresult/300e11f174be2a87","status":"passed","time":{"start":1725414339237,"stop":1725414598344,"duration":259107}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"c13813921d9e424a.json","parameterValues":[]}