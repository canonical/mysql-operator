{"uid":"2fac04495da43c57","name":"test_standby_promotion","fullName":"tests.integration.high_availability.test_async_replication#test_standby_promotion","historyId":"f50f2b7aa9d6f0ad1d763cacd40981bf","time":{"start":1762827121194,"stop":1762827192041,"duration":70847},"description":"Test graceful promotion of a standby cluster to primary.","descriptionHtml":"<p>Test graceful promotion of a standby cluster to primary.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":true,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1762826109642,"stop":1762826113571,"duration":3929},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1762826113571,"stop":1762826113914,"duration":343},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1762826113571,"stop":1762826113571,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1762827090904,"stop":1762827090906,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1762827118702,"stop":1762827121192,"duration":2490},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1762827118702,"stop":1762827118702,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test graceful promotion of a standby cluster to primary.","status":"passed","steps":[],"attachments":[{"uid":"72754f31bf0b9445","name":"log","source":"72754f31bf0b9445.txt","type":"text/plain","size":3632}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::0","time":{"start":1762827192041,"stop":1762827192848,"duration":807},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1762827192849,"stop":1762827192849,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::0","time":{"start":1762828262138,"stop":1762828274260,"duration":12122},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1762828274261,"stop":1762828274556,"duration":295},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model::0","time":{"start":1762828274261,"stop":1762828274261,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1762828274557,"stop":1762828274557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1762828274557,"stop":1762828274557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1762828274557,"stop":1762828274557,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3+')"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"14767-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"5cf12ad86d13aba0","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":11,"skipped":59,"passed":419,"unknown":18,"total":507},"items":[{"uid":"958307fc1ea8d66d","reportUrl":"../4354//#testresult/958307fc1ea8d66d","status":"broken","statusDetails":"mysql.connector.errors.DatabaseError: 2003 (HY000): Can't connect to MySQL server on '10.110.224.247:3306' (111)","time":{"start":1762657575137,"stop":1762657655138,"duration":80001}},{"uid":"451ea798c4f3a570","reportUrl":"../4353//#testresult/451ea798c4f3a570","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 4: status 'failed', return code 0, details:\nMessage: Only a standby cluster can be promoted","time":{"start":1762573769486,"stop":1762573773851,"duration":4365}},{"uid":"e840139f4edee900","reportUrl":"../4349//#testresult/e840139f4edee900","status":"broken","statusDetails":"mysql.connector.errors.DatabaseError: 2003 (HY000): Can't connect to MySQL server on '10.209.171.114:3306' (111)","time":{"start":1762481455027,"stop":1762481535729,"duration":80702}},{"uid":"b4b8559f2bdbebf1","reportUrl":"../4347//#testresult/b4b8559f2bdbebf1","status":"passed","time":{"start":1762411655754,"stop":1762411697999,"duration":42245}},{"uid":"b2668fcfe9ef66f4","reportUrl":"../4344//#testresult/b2668fcfe9ef66f4","status":"passed","time":{"start":1762307848110,"stop":1762307893397,"duration":45287}},{"uid":"3ecf687de1e9ae8","reportUrl":"../4340//#testresult/3ecf687de1e9ae8","status":"passed","time":{"start":1762242718362,"stop":1762242789888,"duration":71526}},{"uid":"354f70842b490124","reportUrl":"../4339//#testresult/354f70842b490124","status":"passed","time":{"start":1762135078233,"stop":1762135134348,"duration":56115}},{"uid":"f81cf6d5a72433d4","reportUrl":"../4338//#testresult/f81cf6d5a72433d4","status":"passed","time":{"start":1762049191974,"stop":1762049234650,"duration":42676}},{"uid":"e639539f6e93c561","reportUrl":"../4337//#testresult/e639539f6e93c561","status":"passed","time":{"start":1761962520763,"stop":1761962570464,"duration":49701}},{"uid":"8dc593e55af56420","reportUrl":"../4333//#testresult/8dc593e55af56420","status":"passed","time":{"start":1761876719498,"stop":1761876770622,"duration":51124}},{"uid":"57c545b2d8237224","reportUrl":"../4331//#testresult/57c545b2d8237224","status":"passed","time":{"start":1761827699393,"stop":1761827742252,"duration":42859}},{"uid":"37400206bde6964e","reportUrl":"../4329//#testresult/37400206bde6964e","status":"passed","time":{"start":1761703765198,"stop":1761703800913,"duration":35715}},{"uid":"a2e0797d45e67ebd","reportUrl":"../4320//#testresult/a2e0797d45e67ebd","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 2: status 'failed', return code 1, details:\nStderr:\nUncaught KeyError in charm code: 'cluster-name'\nUse `juju debug-log` to see the full traceback.\n\nMessage: exit status 1","time":{"start":1761617903281,"stop":1761617907041,"duration":3760}},{"uid":"9340bbec0c4a0ddc","reportUrl":"../4317//#testresult/9340bbec0c4a0ddc","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 4: status 'failed', return code 0, details:\nMessage: Only a standby cluster can be promoted","time":{"start":1761531752909,"stop":1761531757331,"duration":4422}},{"uid":"3f9dba20b50f633d","reportUrl":"../4316//#testresult/3f9dba20b50f633d","status":"passed","time":{"start":1761443655238,"stop":1761443688922,"duration":33684}},{"uid":"59607738670a5c9d","reportUrl":"../4315//#testresult/59607738670a5c9d","status":"passed","time":{"start":1761360043071,"stop":1761360080838,"duration":37767}},{"uid":"a2bdb7d19efcc0ff","reportUrl":"../4309//#testresult/a2bdb7d19efcc0ff","status":"passed","time":{"start":1761271836390,"stop":1761271878948,"duration":42558}},{"uid":"a881c64d0efd68be","reportUrl":"../4303//#testresult/a881c64d0efd68be","status":"passed","time":{"start":1761186143172,"stop":1761186178997,"duration":35825}},{"uid":"6c3cfa5dc69fa2db","reportUrl":"../4295//#testresult/6c3cfa5dc69fa2db","status":"passed","time":{"start":1761104574835,"stop":1761104620826,"duration":45991}},{"uid":"158fc6095b5bd810","reportUrl":"../4283//#testresult/158fc6095b5bd810","status":"passed","time":{"start":1761011761404,"stop":1761011832012,"duration":70608}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3+')"]},"source":"2fac04495da43c57.json","parameterValues":[]}