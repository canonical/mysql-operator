{"uid":"fcce835e1edf50d5","name":"test_deploy_highly_available_cluster","fullName":"tests.integration.high_availability.test_replication_unit_endpoints#test_deploy_highly_available_cluster","historyId":"3b079f5743dab9d65e199c3df22d2b0e","time":{"start":1762826130607,"stop":1762826479883,"duration":349276},"description":"Simple test to ensure that the MySQL and application charms get deployed.","descriptionHtml":"<p>Simple test to ensure that the MySQL and application charms get deployed.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"charm","time":{"start":1762826126673,"stop":1762826126673,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju","time":{"start":1762826126673,"stop":1762826130606,"duration":3933},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1762826130606,"stop":1762826130606,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Simple test to ensure that the MySQL and application charms get deployed.","status":"passed","steps":[],"attachments":[{"uid":"e4986d0928df4e4b","name":"log","source":"e4986d0928df4e4b.txt","type":"text/plain","size":715}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1762826479884,"stop":1762826479884,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1762826582712,"stop":1762826583174,"duration":462},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_replication_unit_endpoints"},{"name":"host","value":"runnervmw9dnm"},{"name":"thread","value":"14705-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_replication_unit_endpoints"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"8952c471c149b249","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":4,"skipped":0,"passed":22,"unknown":0,"total":26},"items":[{"uid":"a2b0b73a4c76a05d","reportUrl":"../4354//#testresult/a2b0b73a4c76a05d","status":"passed","time":{"start":1762656172231,"stop":1762656526640,"duration":354409}},{"uid":"bfdc2474ce3a312b","reportUrl":"../4353//#testresult/bfdc2474ce3a312b","status":"passed","time":{"start":1762571914106,"stop":1762572290460,"duration":376354}},{"uid":"2090897e93befb10","reportUrl":"../4349//#testresult/2090897e93befb10","status":"passed","time":{"start":1762479988226,"stop":1762480372357,"duration":384131}},{"uid":"34067171de4a02c","reportUrl":"../4347//#testresult/34067171de4a02c","status":"passed","time":{"start":1762410446382,"stop":1762410803674,"duration":357292}},{"uid":"628227abe6cc6a8d","reportUrl":"../4344//#testresult/628227abe6cc6a8d","status":"passed","time":{"start":1762306919907,"stop":1762307331642,"duration":411735}},{"uid":"48f80e834af41886","reportUrl":"../4340//#testresult/48f80e834af41886","status":"passed","time":{"start":1762241641656,"stop":1762242088576,"duration":446920}},{"uid":"64379d69301bdb61","reportUrl":"../4339//#testresult/64379d69301bdb61","status":"passed","time":{"start":1762134224808,"stop":1762134594776,"duration":369968}},{"uid":"e44a47547da670a2","reportUrl":"../4338//#testresult/e44a47547da670a2","status":"passed","time":{"start":1762048136784,"stop":1762048501040,"duration":364256}},{"uid":"fa7ec6f0148c0723","reportUrl":"../4337//#testresult/fa7ec6f0148c0723","status":"passed","time":{"start":1761961566204,"stop":1761961943579,"duration":377375}},{"uid":"592415236f4a736f","reportUrl":"../4333//#testresult/592415236f4a736f","status":"passed","time":{"start":1761875687844,"stop":1761876058765,"duration":370921}},{"uid":"317d16a836d86ac5","reportUrl":"../4331//#testresult/317d16a836d86ac5","status":"passed","time":{"start":1761826830651,"stop":1761827199671,"duration":369020}},{"uid":"27fd217e0d6b9ad9","reportUrl":"../4329//#testresult/27fd217e0d6b9ad9","status":"passed","time":{"start":1761702778981,"stop":1761703150224,"duration":371243}},{"uid":"4dce0743166d54da","reportUrl":"../4320//#testresult/4dce0743166d54da","status":"broken","statusDetails":"TimeoutError: wait timed out after 1200s\nStatus(\n  model=ModelStatus(\n    name='testing',\n    type='iaas',\n    controller='concierge-lxd',\n    cloud='localhost',\n    version='3.6.11',\n    region='localhost',\n    model_status=StatusInfo(current='available', since='28 Oct 2025 02:01:36Z'),\n    sla='unsupported',\n  ),\n  machines={\n    '0': MachineStatus(\n      juju_status=StatusInfo(current='down', message='agent is not communicating with the server', since='28 Oct 2025 02:07:21Z'),\n      instance_id='pending',\n      machine_status=StatusInfo(\n        current='provisioning error',\n        message='cannot get available image metadata: failed getting published images metadata from default ubuntu cloud images: cannot read index data, attempt count exceeded: cannot access URL \"http://cloud-images.ubuntu.com/releases/streams/v1/index2.sjson\": Get \"http://cloud-images.ubuntu.com/releases/streams/v1/index2.sjson\": dial tcp 185.125.190.40:80: i/o timeout',\n        since='28 Oct 2025 02:07:21Z',\n      ),\n      modification_status=StatusInfo(current='idle', since='28 Oct 2025 02:02:32Z'),\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      constraints='arch=amd64',\n    ),\n    '1': MachineStatus(\n      juju_status=StatusInfo(current='pending', since='28 Oct 2025 02:02:32Z'),\n      instance_id='pending',\n      machine_status=StatusInfo(current='allocating', message='acquiring LXD image', since='28 Oct 2025 02:10:09Z'),\n      modification_status=StatusInfo(current='idle', since='28 Oct 2025 02:02:32Z'),\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      constraints='arch=amd64',\n    ),\n    '2': MachineStatus(\n      juju_status=StatusInfo(current='pending', since='28 Oct 2025 02:02:32Z'),\n      instance_id='pending',\n      machine_status=StatusInfo(current='allocating', message='Retrieving image: rootfs: 55% (409.88kB/s)', since='28 Oct 2025 02:22:25Z'),\n      modification_status=StatusInfo(current='idle', since='28 Oct 2025 02:02:32Z'),\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      constraints='arch=amd64',\n    ),\n    '3': MachineStatus(\n      juju_status=StatusInfo(current='pending', since='28 Oct 2025 02:02:34Z'),\n      instance_id='pending',\n      machine_status=StatusInfo(current='allocating', message='acquiring LXD image', since='28 Oct 2025 02:10:09Z'),\n      modification_status=StatusInfo(current='idle', since='28 Oct 2025 02:02:34Z'),\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      constraints='arch=amd64',\n    ),\n  },\n  apps={\n    'mysql': AppStatus(\n      charm='local:mysql-0',\n      charm_origin='local',\n      charm_name='mysql',\n      charm_rev=0,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      app_status=StatusInfo(current='waiting', message='waiting for machine', since='28 Oct 2025 02:02:32Z'),\n      relations={\n        'database': [\n          AppStatusRelation(related_app='mysql-test-app', interface='mysql_client', scope='global'),\n        ],\n        'database-peers': [\n          AppStatusRelation(related_app='mysql', interface='mysql_peers', scope='global'),\n        ],\n        'restart': [\n          AppStatusRelation(related_app='mysql', interface='rolling_op', scope='global'),\n        ],\n        'upgrade': [\n          AppStatusRelation(related_app='mysql', interface='upgrade', scope='global'),\n        ],\n      },\n      units={\n        'mysql/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting for machine', since='28 Oct 2025 02:02:32Z'),\n          juju_status=StatusInfo(current='allocating', since='28 Oct 2025 02:02:32Z'),\n          machine='0',\n        ),\n        'mysql/1': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting for machine', since='28 Oct 2025 02:02:32Z'),\n          juju_status=StatusInfo(current='allocating', since='28 Oct 2025 02:02:32Z'),\n          machine='1',\n        ),\n        'mysql/2': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting for machine', since='28 Oct 2025 02:02:32Z'),\n          juju_status=StatusInfo(current='allocating', since='28 Oct 2025 02:02:32Z'),\n          machine='2',\n        ),\n      },\n      endpoint_bindings={\n        '': 'alpha',\n        'certificates': 'alpha',\n        'cos-agent': 'alpha',\n        'database': 'alpha',\n        'database-peers': 'alpha',\n        'db-router': 'alpha',\n        'mysql': 'alpha',\n        'replication': 'alpha',\n        'replication-offer': 'alpha',\n        'restart': 'alpha',\n        's3-parameters': 'alpha',\n        'shared-db': 'alpha',\n        'tracing': 'alpha',\n        'upgrade': 'alpha',\n      },\n    ),\n    'mysql-test-app': AppStatus(\n      charm='mysql-test-app',\n      charm_origin='charmhub',\n      charm_name='mysql-test-app',\n      charm_rev=85,\n      exposed=False,\n      base=FormattedBase(name='ubuntu', channel='22.04'),\n      charm_channel='latest/edge',\n      app_status=StatusInfo(current='waiting', message='waiting for machine', since='28 Oct 2025 02:02:33Z'),\n      relations={\n        'application-peers': [\n          AppStatusRelation(related_app='mysql-test-app', interface='application-peers', scope='global'),\n        ],\n        'database': [\n          AppStatusRelation(related_app='mysql', interface='mysql_client', scope='global'),\n        ],\n      },\n      units={\n        'mysql-test-app/0': UnitStatus(\n          workload_status=StatusInfo(current='waiting', message='waiting for machine', since='28 Oct 2025 02:02:33Z'),\n          juju_status=StatusInfo(current='allocating', since='28 Oct 2025 02:02:33Z'),\n          machine='3',\n        ),\n      },\n      endpoint_bindings={'': 'alpha', 'application-peers': 'alpha', 'database': 'alpha', 'mysql': 'alpha'},\n    ),\n  },\n  storage=CombinedStorage(\n    storage={\n      'database/0': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='pending', since='28 Oct 2025 02:02:32Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'mysql/0': UnitStorageAttachment(machine='0', life='alive'),\n          },\n        ),\n      ),\n      'database/1': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='pending', since='28 Oct 2025 02:02:32Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'mysql/1': UnitStorageAttachment(machine='1', life='alive'),\n          },\n        ),\n      ),\n      'database/2': StorageInfo(\n        kind='filesystem',\n        status=EntityStatus(current='pending', since='28 Oct 2025 02:02:32Z'),\n        persistent=False,\n        life='alive',\n        attachments=StorageAttachments(\n          units={\n            'mysql/2': UnitStorageAttachment(machine='2', life='alive'),\n          },\n        ),\n      ),\n    },\n    filesystems={\n      '0/0': FilesystemInfo(\n        size=0,\n        storage='database/0',\n        attachments=FilesystemAttachments(\n          machines={\n            '0': FilesystemAttachment(mount_point='', read_only=False, life='alive'),\n          },\n          units={\n            'mysql/0': UnitStorageAttachment(machine='0', life='alive'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='pending', since='28 Oct 2025 02:02:32Z'),\n      ),\n      '1/1': FilesystemInfo(\n        size=0,\n        storage='database/1',\n        attachments=FilesystemAttachments(\n          machines={\n            '1': FilesystemAttachment(mount_point='', read_only=False, life='alive'),\n          },\n          units={\n            'mysql/1': UnitStorageAttachment(machine='1', life='alive'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='pending', since='28 Oct 2025 02:02:32Z'),\n      ),\n      '2/2': FilesystemInfo(\n        size=0,\n        storage='database/2',\n        attachments=FilesystemAttachments(\n          machines={\n            '2': FilesystemAttachment(mount_point='', read_only=False, life='alive'),\n          },\n          units={\n            'mysql/2': UnitStorageAttachment(machine='2', life='alive'),\n          },\n        ),\n        life='alive',\n        status=EntityStatus(current='pending', since='28 Oct 2025 02:02:32Z'),\n      ),\n    },\n  ),\n  controller=ControllerStatus(timestamp='02:22:33Z'),\n)","time":{"start":1761616945452,"stop":1761618154488,"duration":1209036}},{"uid":"979e8848aabb4675","reportUrl":"../4317//#testresult/979e8848aabb4675","status":"passed","time":{"start":1761529791588,"stop":1761530158492,"duration":366904}},{"uid":"1cdba54764412fc","reportUrl":"../4316//#testresult/1cdba54764412fc","status":"passed","time":{"start":1761442662218,"stop":1761443017697,"duration":355479}},{"uid":"d2eef1b3d8babb6","reportUrl":"../4315//#testresult/d2eef1b3d8babb6","status":"passed","time":{"start":1761358963812,"stop":1761359315409,"duration":351597}},{"uid":"bca9360d8c9dadd6","reportUrl":"../4309//#testresult/bca9360d8c9dadd6","status":"passed","time":{"start":1761270895474,"stop":1761271268739,"duration":373265}},{"uid":"28e8e1ab553e2a24","reportUrl":"../4303//#testresult/28e8e1ab553e2a24","status":"passed","time":{"start":1761185058393,"stop":1761185417757,"duration":359364}},{"uid":"b6837a7c0c2a2803","reportUrl":"../4295//#testresult/b6837a7c0c2a2803","status":"passed","time":{"start":1761103614450,"stop":1761103995090,"duration":380640}},{"uid":"2625d5de46acc7ef","reportUrl":"../4283//#testresult/2625d5de46acc7ef","status":"passed","time":{"start":1761011118385,"stop":1761011461064,"duration":342679}}]},"tags":["abort_on_fail"]},"source":"fcce835e1edf50d5.json","parameterValues":[]}