{"uid":"5fb14f94476fb133","name":"test_rollback","fullName":"tests.integration.high_availability.test_upgrade_rollback_incompat#test_rollback","historyId":"58ad49fb402860cae8856c01098a766e","time":{"start":1712885794116,"stop":1712887039411,"duration":1245295},"status":"broken","statusMessage":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/high_availability/test_upgrade_rollback_incompat.py\", line 148, in test_rollback\n    await ops_test.model.wait_for_idle(apps=[MYSQL_APP_NAME], status=\"active\", timeout=TIMEOUT)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2757, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nasyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"pytestconfig","time":{"start":1712885245522,"stop":1712885245522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1712885245522,"stop":1712885245522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1712885245522,"stop":1712885245669,"duration":147},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1712885245522,"stop":1712885245522,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1712885245669,"stop":1712885245669,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1712885794115,"stop":1712885794115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1712885794115,"stop":1712885794115,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/high_availability/test_upgrade_rollback_incompat.py\", line 148, in test_rollback\n    await ops_test.model.wait_for_idle(apps=[MYSQL_APP_NAME], status=\"active\", timeout=TIMEOUT)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2757, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nasyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","steps":[],"attachments":[{"uid":"7630b691167ef8c3","name":"log","source":"7630b691167ef8c3.txt","type":"text/plain","size":17654}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1712887039414,"stop":1712887039414,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1712887039415,"stop":1712887039889,"duration":474},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1712887039890,"stop":1712887039890,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1712887039890,"stop":1712887039890,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1712887039890,"stop":1712887039890,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_upgrade_rollback_incompat"},{"name":"host","value":"fv-az1024-936"},{"name":"thread","value":"8431-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_upgrade_rollback_incompat"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":14,"skipped":0,"passed":21,"unknown":0,"total":35},"items":[{"uid":"ea49765a3638dcb5","reportUrl":"../2417//#testresult/ea49765a3638dcb5","status":"passed","time":{"start":1712799355014,"stop":1712799813582,"duration":458568}},{"uid":"28ce68ee0466e501","reportUrl":"../2416//#testresult/28ce68ee0466e501","status":"passed","time":{"start":1712712951771,"stop":1712713411914,"duration":460143}},{"uid":"99281a47e950bdaf","reportUrl":"../2413//#testresult/99281a47e950bdaf","status":"passed","time":{"start":1712626491882,"stop":1712627061955,"duration":570073}},{"uid":"4b592940b3c87c4d","reportUrl":"../2410//#testresult/4b592940b3c87c4d","status":"passed","time":{"start":1712540116155,"stop":1712540619384,"duration":503229}},{"uid":"1ed18dd3515e5a68","reportUrl":"../2409//#testresult/1ed18dd3515e5a68","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1712453767114,"stop":1712455010860,"duration":1243746}},{"uid":"551d88e0c747353b","reportUrl":"../2408//#testresult/551d88e0c747353b","status":"passed","time":{"start":1712367356358,"stop":1712367869844,"duration":513486}},{"uid":"eb5eb63e4e027794","reportUrl":"../2406//#testresult/eb5eb63e4e027794","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","time":{"start":1712280906655,"stop":1712282151126,"duration":1244471}},{"uid":"fe8ee2ae3eee09e9","reportUrl":"../2399//#testresult/fe8ee2ae3eee09e9","status":"passed","time":{"start":1712194495227,"stop":1712194979170,"duration":483943}},{"uid":"792ed9318b39f4ed","reportUrl":"../2392//#testresult/792ed9318b39f4ed","status":"passed","time":{"start":1712108176395,"stop":1712108763642,"duration":587247}},{"uid":"5d9351ab1b3b7e1b","reportUrl":"../2389//#testresult/5d9351ab1b3b7e1b","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1712021848745,"stop":1712023092409,"duration":1243664}},{"uid":"f7ec9cce2fc05bc2","reportUrl":"../2387//#testresult/f7ec9cce2fc05bc2","status":"passed","time":{"start":1711935361782,"stop":1711935846817,"duration":485035}},{"uid":"3222f698aa2e79e9","reportUrl":"../2386//#testresult/3222f698aa2e79e9","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","time":{"start":1711848990238,"stop":1711850234987,"duration":1244749}},{"uid":"bff1198bd5125795","reportUrl":"../2385//#testresult/bff1198bd5125795","status":"passed","time":{"start":1711762330512,"stop":1711762884113,"duration":553601}},{"uid":"829fce927da21af8","reportUrl":"../2384//#testresult/829fce927da21af8","status":"passed","time":{"start":1711676114463,"stop":1711676589198,"duration":474735}},{"uid":"c01a0aec7d7d1ce0","reportUrl":"../2378//#testresult/c01a0aec7d7d1ce0","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1711589728112,"stop":1711590972824,"duration":1244712}},{"uid":"d2b227e0272ef306","reportUrl":"../2371//#testresult/d2b227e0272ef306","status":"passed","time":{"start":1711503135462,"stop":1711503704721,"duration":569259}},{"uid":"76a729980587ae8f","reportUrl":"../2365//#testresult/76a729980587ae8f","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1711416806415,"stop":1711418051738,"duration":1245323}},{"uid":"d20102996312f2b","reportUrl":"../2358//#testresult/d20102996312f2b","status":"passed","time":{"start":1711330457028,"stop":1711331043228,"duration":586200}},{"uid":"a52fc90844832e08","reportUrl":"../2357//#testresult/a52fc90844832e08","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1711244059275,"stop":1711245305258,"duration":1245983}},{"uid":"31c3395dcc29f50d","reportUrl":"../2356//#testresult/31c3395dcc29f50d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1711157528106,"stop":1711158772348,"duration":1244242}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"5fb14f94476fb133.json","parameterValues":[]}