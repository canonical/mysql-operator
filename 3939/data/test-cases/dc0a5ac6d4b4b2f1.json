{"uid":"dc0a5ac6d4b4b2f1","name":"test_reboot_2_of_3_units","fullName":"tests.integration.test_vm_reboot#test_reboot_2_of_3_units","historyId":"f55bc3d682d66af5cb744a5074f526d1","time":{"start":1752975390673,"stop":1752976312411,"duration":921738},"description":"Reboot a single unit and ensure it comes back online.","descriptionHtml":"<p>Reboot a single unit and ensure it comes back online.</p>\n","status":"broken","statusMessage":"TimeoutError: Timed out waiting for model:\nmysql/1 [idle] maintenance: offline","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_vm_reboot.py\", line 64, in test_reboot_2_of_3_units\n    await ops_test.model.wait_for_idle(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 3209, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nTimeoutError: Timed out waiting for model:\nmysql/1 [idle] maintenance: offline","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1752975017285,"stop":1752975017286,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1752975017286,"stop":1752975017286,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1752975017286,"stop":1752975017430,"duration":144},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1752975390673,"stop":1752975390673,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Reboot a single unit and ensure it comes back online.","status":"broken","statusMessage":"TimeoutError: Timed out waiting for model:\nmysql/1 [idle] maintenance: offline","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_vm_reboot.py\", line 64, in test_reboot_2_of_3_units\n    await ops_test.model.wait_for_idle(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/juju/model.py\", line 3209, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nTimeoutError: Timed out waiting for model:\nmysql/1 [idle] maintenance: offline","steps":[],"attachments":[{"uid":"a7019c8535c2de01","name":"log","source":"a7019c8535c2de01.txt","type":"text/plain","size":3480}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1752976312442,"stop":1752976312443,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1752976312449,"stop":1752976312831,"duration":382},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1752976312832,"stop":1752976312832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1752976312832,"stop":1752976312832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1752976312832,"stop":1752976312832,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_vm_reboot"},{"name":"host","value":"pkrvmq0rgcvqdmg"},{"name":"thread","value":"17301-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_vm_reboot"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"53a7b950b14cef44","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[]}],"history":{"statistic":{"failed":0,"broken":17,"skipped":10,"passed":223,"unknown":6,"total":256},"items":[{"uid":"9625ab49c10a7888","reportUrl":"../3938//#testresult/9625ab49c10a7888","status":"passed","time":{"start":1752888933589,"stop":1752889015118,"duration":81529}},{"uid":"97241d7b8571d36d","reportUrl":"../3935//#testresult/97241d7b8571d36d","status":"passed","time":{"start":1752802585779,"stop":1752802646878,"duration":61099}},{"uid":"5fcf0b21e0256db5","reportUrl":"../3934//#testresult/5fcf0b21e0256db5","status":"passed","time":{"start":1752716217346,"stop":1752716303053,"duration":85707}},{"uid":"f6f1906e2d6b788c","reportUrl":"../3933//#testresult/f6f1906e2d6b788c","status":"passed","time":{"start":1752629803658,"stop":1752629874477,"duration":70819}},{"uid":"3dfad518b183ff05","reportUrl":"../3925//#testresult/3dfad518b183ff05","status":"passed","time":{"start":1752543390754,"stop":1752543462643,"duration":71889}},{"uid":"a85d1d9770523c33","reportUrl":"../3917//#testresult/a85d1d9770523c33","status":"broken","statusDetails":"TimeoutError: Timed out waiting for model:\nmysql/0 [idle] maintenance: Unable to query cluster primary","time":{"start":1752457046857,"stop":1752457977780,"duration":930923}},{"uid":"b778e01a7f7eb7c3","reportUrl":"../3916//#testresult/b778e01a7f7eb7c3","status":"passed","time":{"start":1752370663205,"stop":1752370731907,"duration":68702}},{"uid":"8f9185736a5ac623","reportUrl":"../3915//#testresult/8f9185736a5ac623","status":"passed","time":{"start":1752284181562,"stop":1752284266584,"duration":85022}},{"uid":"c629c521bb23b4b","reportUrl":"../3914//#testresult/c629c521bb23b4b","status":"passed","time":{"start":1752197793698,"stop":1752197865488,"duration":71790}},{"uid":"a46ec6942b9b5170","reportUrl":"../3909//#testresult/a46ec6942b9b5170","status":"passed","time":{"start":1752111440655,"stop":1752111510195,"duration":69540}},{"uid":"83d74a822961ae77","reportUrl":"../3903//#testresult/83d74a822961ae77","status":"passed","time":{"start":1752025040973,"stop":1752025114799,"duration":73826}},{"uid":"1d2b7c13b05a26f3","reportUrl":"../3900//#testresult/1d2b7c13b05a26f3","status":"passed","time":{"start":1751938525196,"stop":1751938607868,"duration":82672}},{"uid":"81166ce0e341b699","reportUrl":"../3888//#testresult/81166ce0e341b699","status":"passed","time":{"start":1751852123180,"stop":1751852199231,"duration":76051}},{"uid":"5bc22f3510476c27","reportUrl":"../3887//#testresult/5bc22f3510476c27","status":"passed","time":{"start":1751765804911,"stop":1751765873094,"duration":68183}},{"uid":"4485a265ad195a94","reportUrl":"../3886//#testresult/4485a265ad195a94","status":"passed","time":{"start":1751679269273,"stop":1751679329620,"duration":60347}},{"uid":"a04275f8033dafad","reportUrl":"../3884//#testresult/a04275f8033dafad","status":"unknown","time":{}},{"uid":"234dc702e678108","reportUrl":"../3883//#testresult/234dc702e678108","status":"unknown","time":{}},{"uid":"fbabf58277ffbd6","reportUrl":"../3882//#testresult/fbabf58277ffbd6","status":"unknown","time":{}},{"uid":"10530b35ae7e6ae1","reportUrl":"../3878//#testresult/10530b35ae7e6ae1","status":"passed","time":{"start":1751333788137,"stop":1751333862171,"duration":74034}},{"uid":"bd5d6a41a46e2f0a","reportUrl":"../3877//#testresult/bd5d6a41a46e2f0a","status":"passed","time":{"start":1751247353498,"stop":1751247411658,"duration":58160}}]},"tags":["asyncio","abort_on_fail"]},"source":"dc0a5ac6d4b4b2f1.json","parameterValues":[]}