{"uid":"d1d7b9ce0daea7c7","name":"test_saturate_max_connections","fullName":"tests.integration.test_saturate_max_connections#test_saturate_max_connections","historyId":"d26db47924cdcac8cef09121b26fd9a9","time":{"start":1740879137440,"stop":1740879139683,"duration":2243},"status":"broken","statusMessage":"mysql.connector.errors.OperationalError: 1040 (08004): Too many connections","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_saturate_max_connections.py\", line 75, in test_saturate_max_connections\n    connections = create_db_connections(CONNECTIONS, **credentials)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/connector.py\", line 58, in create_db_connections\n    conn = mysql.connector.connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/pooling.py\", line 323, in connect\n    return MySQLConnection(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 179, in __init__\n    self.connect(**kwargs)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/abstracts.py\", line 1426, in connect\n    self._open_connection()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 376, in _open_connection\n    self._do_auth(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 314, in _do_auth\n    ok_pkt = self._authenticator.authenticate(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/authentication.py\", line 368, in authenticate\n    ok_pkt = self._handle_server_response(sock, pkt)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/authentication.py\", line 287, in _handle_server_response\n    raise get_exception(pkt)\nmysql.connector.errors.OperationalError: 1040 (08004): Too many connections","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1740879002946,"stop":1740879002947,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1740879002947,"stop":1740879002947,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1740879002947,"stop":1740879003082,"duration":135},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1740879137439,"stop":1740879137439,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"mysql.connector.errors.OperationalError: 1040 (08004): Too many connections","statusTrace":"Traceback (most recent call last):\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n                                ^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n            ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n          ^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n             ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.12/asyncio/base_events.py\", line 687, in run_until_complete\n    return future.result()\n           ^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/test_saturate_max_connections.py\", line 75, in test_saturate_max_connections\n    connections = create_db_connections(CONNECTIONS, **credentials)\n                  ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/tests/integration/connector.py\", line 58, in create_db_connections\n    conn = mysql.connector.connect(\n           ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/pooling.py\", line 323, in connect\n    return MySQLConnection(*args, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 179, in __init__\n    self.connect(**kwargs)\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/abstracts.py\", line 1426, in connect\n    self._open_connection()\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 376, in _open_connection\n    self._do_auth(\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/connection.py\", line 314, in _do_auth\n    ok_pkt = self._authenticator.authenticate(\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/authentication.py\", line 368, in authenticate\n    ok_pkt = self._handle_server_response(sock, pkt)\n             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/root/spread_project/.tox/integration/lib/python3.12/site-packages/mysql/connector/authentication.py\", line 287, in _handle_server_response\n    raise get_exception(pkt)\nmysql.connector.errors.OperationalError: 1040 (08004): Too many connections","steps":[],"attachments":[{"uid":"d4f63dcd7f81c63b","name":"log","source":"d4f63dcd7f81c63b.txt","type":"text/plain","size":2332}],"parameters":[],"shouldDisplayMessage":true,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"ops_test::finalizer","time":{"start":1740879139688,"stop":1740879140072,"duration":384},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1740879139688,"stop":1740879139688,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1740879140072,"stop":1740879140072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1740879140072,"stop":1740879140072,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1740879140072,"stop":1740879140073,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration"},{"name":"suite","value":"test_saturate_max_connections"},{"name":"host","value":"fv-az1721-397"},{"name":"thread","value":"14186-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.test_saturate_max_connections"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"c583afd8b8c80ca1","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":4,"skipped":1,"passed":154,"unknown":4,"total":163},"items":[{"uid":"45216ae3bf6875d3","reportUrl":"../3621//#testresult/45216ae3bf6875d3","status":"passed","time":{"start":1740792725436,"stop":1740792734082,"duration":8646}},{"uid":"1efacad390d50527","reportUrl":"../3619//#testresult/1efacad390d50527","status":"passed","time":{"start":1740706323896,"stop":1740706332552,"duration":8656}},{"uid":"1330f5e49813d0f5","reportUrl":"../3615//#testresult/1330f5e49813d0f5","status":"passed","time":{"start":1740619953408,"stop":1740619962051,"duration":8643}},{"uid":"d100389048ef9ee8","reportUrl":"../3613//#testresult/d100389048ef9ee8","status":"passed","time":{"start":1740533596566,"stop":1740533605340,"duration":8774}},{"uid":"2bf09fa48322cd4c","reportUrl":"../3607//#testresult/2bf09fa48322cd4c","status":"passed","time":{"start":1740447116462,"stop":1740447125311,"duration":8849}},{"uid":"e496f5b830142b07","reportUrl":"../3597//#testresult/e496f5b830142b07","status":"passed","time":{"start":1740360735403,"stop":1740360744061,"duration":8658}},{"uid":"1459a1569b91c7c6","reportUrl":"../3596//#testresult/1459a1569b91c7c6","status":"passed","time":{"start":1740274361642,"stop":1740274370315,"duration":8673}},{"uid":"b6708a9e5d82c277","reportUrl":"../3595//#testresult/b6708a9e5d82c277","status":"passed","time":{"start":1740187926168,"stop":1740187934846,"duration":8678}},{"uid":"f09d380a48b26c4d","reportUrl":"../3593//#testresult/f09d380a48b26c4d","status":"passed","time":{"start":1740101582746,"stop":1740101591669,"duration":8923}},{"uid":"baf57ace96fbbb37","reportUrl":"../3585//#testresult/baf57ace96fbbb37","status":"passed","time":{"start":1740016548766,"stop":1740016557408,"duration":8642}},{"uid":"50eb3b4ed5d96b1f","reportUrl":"../3579//#testresult/50eb3b4ed5d96b1f","status":"passed","time":{"start":1739929357848,"stop":1739929366497,"duration":8649}},{"uid":"afb3f594994f29cd","reportUrl":"../3571//#testresult/afb3f594994f29cd","status":"passed","time":{"start":1739842338383,"stop":1739842347043,"duration":8660}},{"uid":"1221f154ea9cbf0","reportUrl":"../3561//#testresult/1221f154ea9cbf0","status":"passed","time":{"start":1739756206952,"stop":1739756215631,"duration":8679}},{"uid":"9a0c9f7b802fa2f9","reportUrl":"../3560//#testresult/9a0c9f7b802fa2f9","status":"passed","time":{"start":1739669585873,"stop":1739669594535,"duration":8662}},{"uid":"3b710eb891c60a7a","reportUrl":"../3559//#testresult/3b710eb891c60a7a","status":"passed","time":{"start":1739583127898,"stop":1739583136543,"duration":8645}},{"uid":"daaefd63b45da1d9","reportUrl":"../3548//#testresult/daaefd63b45da1d9","status":"passed","time":{"start":1739496745625,"stop":1739496754314,"duration":8689}},{"uid":"4fc76e0b23e7bc1c","reportUrl":"../3538//#testresult/4fc76e0b23e7bc1c","status":"passed","time":{"start":1739410301363,"stop":1739410310008,"duration":8645}},{"uid":"f4d956381cbd1a8f","reportUrl":"../3518//#testresult/f4d956381cbd1a8f","status":"passed","time":{"start":1739237478467,"stop":1739237487115,"duration":8648}},{"uid":"36473d5917d48efb","reportUrl":"../3509//#testresult/36473d5917d48efb","status":"passed","time":{"start":1739151043010,"stop":1739151051707,"duration":8697}},{"uid":"8cd42adc3182cc1d","reportUrl":"../3508//#testresult/8cd42adc3182cc1d","status":"passed","time":{"start":1739064791394,"stop":1739064800062,"duration":8668}}]},"tags":["asyncio","abort_on_fail"]},"source":"d1d7b9ce0daea7c7.json","parameterValues":[]}