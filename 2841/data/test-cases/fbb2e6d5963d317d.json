{"uid":"fbb2e6d5963d317d","name":"test_keystone_bundle_shared_db","fullName":"tests.integration.relations.test_shared_db#test_keystone_bundle_shared_db","historyId":"88f8a2201f91bb464be2878715ed91ae","time":{"start":1722562750649,"stop":1722563650996,"duration":900347},"description":"Deploy the keystone bundle to test the 'shared-db' relation.\n\n    Args:\n        ops_test: The ops test framework\n    ","descriptionHtml":"<p>Deploy the keystone bundle to test the 'shared-db' relation.</p>\n<pre><code>Args:\n    ops_test: The ops test framework\n</code></pre>\n","status":"broken","statusMessage":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/relations/test_shared_db.py\", line 170, in test_keystone_bundle_shared_db\n    await ops_test.model.wait_for_idle(\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2757, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nasyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1722562750494,"stop":1722562750495,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1722562750495,"stop":1722562750648,"duration":153},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1722562750495,"stop":1722562750495,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1722562750648,"stop":1722562750648,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Deploy the keystone bundle to test the 'shared-db' relation.\n\n    Args:\n        ops_test: The ops test framework\n    ","status":"broken","statusMessage":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/relations/test_shared_db.py\", line 170, in test_keystone_bundle_shared_db\n    await ops_test.model.wait_for_idle(\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2757, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nasyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] unknown: \n  mysql/1 [idle] unknown: \n  mysql/2 [idle] unknown:","steps":[],"attachments":[{"uid":"5b1eb17903a62177","name":"log","source":"5b1eb17903a62177.txt","type":"text/plain","size":7342}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"abort_on_fail::0","time":{"start":1722563650999,"stop":1722563650999,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1722563650999,"stop":1722563660768,"duration":9769},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1722563660768,"stop":1722563660769,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1722563660769,"stop":1722563660769,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1722563660769,"stop":1722563660769,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.relations"},{"name":"suite","value":"test_shared_db"},{"name":"host","value":"fv-az665-750"},{"name":"thread","value":"7986-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.relations.test_shared_db"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"a2fbcf89e654dab0","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":1,"skipped":0,"passed":68,"unknown":2,"total":71},"items":[{"uid":"f881521c3f6c3125","reportUrl":"../2839//#testresult/f881521c3f6c3125","status":"passed","time":{"start":1722476102361,"stop":1722477464117,"duration":1361756}},{"uid":"872ade1e88efffe","reportUrl":"../2836//#testresult/872ade1e88efffe","status":"passed","time":{"start":1722389368257,"stop":1722390727203,"duration":1358946}},{"uid":"e0d3eef7843e0092","reportUrl":"../2832//#testresult/e0d3eef7843e0092","status":"passed","time":{"start":1722303346977,"stop":1722304578352,"duration":1231375}},{"uid":"48b8e392d76a4e0a","reportUrl":"../2827//#testresult/48b8e392d76a4e0a","status":"passed","time":{"start":1722216841058,"stop":1722218040632,"duration":1199574}},{"uid":"b19ded77847a6575","reportUrl":"../2824//#testresult/b19ded77847a6575","status":"passed","time":{"start":1722130589505,"stop":1722131921166,"duration":1331661}},{"uid":"76830ddad403db7d","reportUrl":"../2819//#testresult/76830ddad403db7d","status":"passed","time":{"start":1722043888447,"stop":1722045121379,"duration":1232932}},{"uid":"668a85c331a89301","reportUrl":"../2811//#testresult/668a85c331a89301","status":"passed","time":{"start":1721957881979,"stop":1721959184787,"duration":1302808}},{"uid":"ba1b70a801bfd777","reportUrl":"../2807//#testresult/ba1b70a801bfd777","status":"passed","time":{"start":1721871253899,"stop":1721872687704,"duration":1433805}},{"uid":"68950320113f856b","reportUrl":"../2802//#testresult/68950320113f856b","status":"unknown","time":{}},{"uid":"5c4b686d126dd125","reportUrl":"../2797//#testresult/5c4b686d126dd125","status":"passed","time":{"start":1721698515981,"stop":1721699879523,"duration":1363542}},{"uid":"2c48fc1696a179c5","reportUrl":"../2787//#testresult/2c48fc1696a179c5","status":"passed","time":{"start":1721612370968,"stop":1721613915154,"duration":1544186}},{"uid":"f93b45197d0aa3f","reportUrl":"../2786//#testresult/f93b45197d0aa3f","status":"passed","time":{"start":1721525725485,"stop":1721527035129,"duration":1309644}},{"uid":"de53ebacd603e181","reportUrl":"../2785//#testresult/de53ebacd603e181","status":"passed","time":{"start":1721439895152,"stop":1721441155554,"duration":1260402}},{"uid":"1e26c086cac4f656","reportUrl":"../2776//#testresult/1e26c086cac4f656","status":"passed","time":{"start":1721266517814,"stop":1721267798109,"duration":1280295}},{"uid":"246fb5a70459424b","reportUrl":"../2773//#testresult/246fb5a70459424b","status":"passed","time":{"start":1721180291488,"stop":1721181551044,"duration":1259556}},{"uid":"3ca2f586cba606e4","reportUrl":"../2769//#testresult/3ca2f586cba606e4","status":"passed","time":{"start":1721093921654,"stop":1721095199892,"duration":1278238}},{"uid":"26071f3c095d2129","reportUrl":"../2764//#testresult/26071f3c095d2129","status":"passed","time":{"start":1721007790115,"stop":1721009080813,"duration":1290698}},{"uid":"bb9eeb3b49d62fe2","reportUrl":"../2763//#testresult/bb9eeb3b49d62fe2","status":"passed","time":{"start":1720921322486,"stop":1720922627017,"duration":1304531}},{"uid":"4e1de55448adc1a2","reportUrl":"../2762//#testresult/4e1de55448adc1a2","status":"passed","time":{"start":1720834690912,"stop":1720836004402,"duration":1313490}},{"uid":"11260ad5054debc2","reportUrl":"../2758//#testresult/11260ad5054debc2","status":"passed","time":{"start":1720747989819,"stop":1720749283499,"duration":1293680}}]},"tags":["asyncio","abort_on_fail","group(1)"]},"source":"fbb2e6d5963d317d.json","parameterValues":[]}