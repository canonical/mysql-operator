{"uid":"c12154f2fd32fa2b","name":"test_rollback","fullName":"tests.integration.high_availability.test_upgrade_rollback_incompat#test_rollback","historyId":"58ad49fb402860cae8856c01098a766e","time":{"start":1720402813816,"stop":1720402846094,"duration":32278},"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/high_availability/test_upgrade_rollback_incompat.py\", line 168, in test_rollback\n    await application.refresh(path=charm)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/application.py\", line 684, in refresh\n    await self.local_refresh(origin, force, force_series,\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/application.py\", line 842, in local_refresh\n    charm_url = await self.model.add_local_charm_dir(charm_dir, series)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 818, in add_local_charm_dir\n    with open(str(fn), 'rb') as fh:\nFileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"event_loop","time":{"start":1720402409773,"stop":1720402409773,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1720402409774,"stop":1720402409908,"duration":134},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1720402409774,"stop":1720402409774,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1720402811783,"stop":1720402813816,"duration":2033},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1720402811783,"stop":1720402811783,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/high_availability/test_upgrade_rollback_incompat.py\", line 168, in test_rollback\n    await application.refresh(path=charm)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/application.py\", line 684, in refresh\n    await self.local_refresh(origin, force, force_series,\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/application.py\", line 842, in local_refresh\n    charm_url = await self.model.add_local_charm_dir(charm_dir, series)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 818, in add_local_charm_dir\n    with open(str(fn), 'rb') as fh:\nFileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","steps":[],"attachments":[{"uid":"219f1b9852d9bcfa","name":"log","source":"219f1b9852d9bcfa.txt","type":"text/plain","size":4809}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1720402846096,"stop":1720402847129,"duration":1033},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1720402847129,"stop":1720402866084,"duration":18955},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1720402847129,"stop":1720402847129,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1720402866085,"stop":1720402866085,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1720402866085,"stop":1720402866085,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1720402866085,"stop":1720402866085,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"unstable"},{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires amd64 architecture')"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_upgrade_rollback_incompat"},{"name":"host","value":"fv-az1776-816"},{"name":"thread","value":"7250-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_upgrade_rollback_incompat"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"2bde3be87f2f3ac0","status":"unknown","time":{}}],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":34,"skipped":0,"passed":14,"unknown":0,"total":48},"items":[{"uid":"d4aeabeb92d22c16","reportUrl":"../2736//#testresult/d4aeabeb92d22c16","status":"broken","statusDetails":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","time":{"start":1720317216764,"stop":1720317249097,"duration":32333}},{"uid":"c9c4781c2a13edd9","reportUrl":"../2735//#testresult/c9c4781c2a13edd9","status":"broken","statusDetails":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","time":{"start":1720230274318,"stop":1720230306695,"duration":32377}},{"uid":"448c837aaac315b7","reportUrl":"../2729//#testresult/448c837aaac315b7","status":"broken","statusDetails":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","time":{"start":1720143992664,"stop":1720144025016,"duration":32352}},{"uid":"b021d8b1974c290c","reportUrl":"../2723//#testresult/b021d8b1974c290c","status":"broken","statusDetails":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","time":{"start":1720057410345,"stop":1720057442726,"duration":32381}},{"uid":"e5f853b7b2a46d3e","reportUrl":"../2710//#testresult/e5f853b7b2a46d3e","status":"broken","statusDetails":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","time":{"start":1719971661019,"stop":1719971693606,"duration":32587}},{"uid":"706d18d31d6b356e","reportUrl":"../2701//#testresult/706d18d31d6b356e","status":"broken","statusDetails":"FileNotFoundError: [Errno 2] No such file or directory: '/home/runner/work/mysql-operator/mysql-operator/local:/home/runner/work/mysql-operator/mysql-operator/local-mysql_ubuntu-22.04-amd64.charm'","time":{"start":1719884367714,"stop":1719884400189,"duration":32475}},{"uid":"f0d29dfa0c5e021d","reportUrl":"../2694//#testresult/f0d29dfa0c5e021d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1719797829262,"stop":1719799073603,"duration":1244341}},{"uid":"f39f908ea1ecda87","reportUrl":"../2693//#testresult/f39f908ea1ecda87","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1719711449665,"stop":1719712695017,"duration":1245352}},{"uid":"ac7a1199fb120cd6","reportUrl":"../2692//#testresult/ac7a1199fb120cd6","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1719625158983,"stop":1719626404300,"duration":1245317}},{"uid":"746cedd3387aea4d","reportUrl":"../2672//#testresult/746cedd3387aea4d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1719538654991,"stop":1719539899743,"duration":1244752}},{"uid":"bd290137a572f770","reportUrl":"../2667//#testresult/bd290137a572f770","status":"passed","time":{"start":1719452116634,"stop":1719452715801,"duration":599167}},{"uid":"e570a135b1046b0","reportUrl":"../2660//#testresult/e570a135b1046b0","status":"passed","time":{"start":1719365711616,"stop":1719366217042,"duration":505426}},{"uid":"e6e9f13748f954f3","reportUrl":"../2653//#testresult/e6e9f13748f954f3","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1719279362799,"stop":1719280607865,"duration":1245066}},{"uid":"298732eae1bd4c6f","reportUrl":"../2652//#testresult/298732eae1bd4c6f","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1719192965836,"stop":1719194210861,"duration":1245025}},{"uid":"cd8f794cff0cc122","reportUrl":"../2649//#testresult/cd8f794cff0cc122","status":"passed","time":{"start":1719106575660,"stop":1719107037550,"duration":461890}},{"uid":"2407b6e1479cb96d","reportUrl":"../2648//#testresult/2407b6e1479cb96d","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","time":{"start":1719020059143,"stop":1719021304721,"duration":1245578}},{"uid":"970a4de6e41399c4","reportUrl":"../2642//#testresult/970a4de6e41399c4","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","time":{"start":1718933780992,"stop":1718935027304,"duration":1246312}},{"uid":"d0e4f21809a4d98f","reportUrl":"../2637//#testresult/d0e4f21809a4d98f","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1718847341879,"stop":1718848587592,"duration":1245713}},{"uid":"28f8949eafadaddb","reportUrl":"../2631//#testresult/28f8949eafadaddb","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1718760982485,"stop":1718762228679,"duration":1246194}},{"uid":"39f77710b2c74608","reportUrl":"../2628//#testresult/39f77710b2c74608","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","time":{"start":1718674629327,"stop":1718675873518,"duration":1244191}}]},"tags":["unstable","asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires amd64 architecture')","group(1)"]},"source":"c12154f2fd32fa2b.json","parameterValues":[]}