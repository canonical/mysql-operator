{"uid":"d330233584ee303f","name":"test_rollback","fullName":"tests.integration.high_availability.test_upgrade_rollback_incompat#test_rollback","historyId":"58ad49fb402860cae8856c01098a766e","time":{"start":1715045707773,"stop":1715046952399,"duration":1244626},"status":"broken","statusMessage":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/high_availability/test_upgrade_rollback_incompat.py\", line 149, in test_rollback\n    await ops_test.model.wait_for_idle(apps=[MYSQL_APP_NAME], status=\"active\", timeout=TIMEOUT)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2757, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nasyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","flaky":false,"newFailed":false,"newBroken":true,"newPassed":false,"retriesCount":0,"retriesStatusChange":false,"beforeStages":[{"name":"event_loop","time":{"start":1715045285499,"stop":1715045285500,"duration":1},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"tmp_path_factory","time":{"start":1715045285500,"stop":1715045285500,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"pytestconfig","time":{"start":1715045285500,"stop":1715045285500,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1715045285500,"stop":1715045285638,"duration":138},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test","time":{"start":1715045285638,"stop":1715045285638,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1715045704695,"stop":1715045707773,"duration":3078},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1715045704695,"stop":1715045704695,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"status":"broken","statusMessage":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","statusTrace":"Traceback (most recent call last):\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 341, in from_call\n    result: Optional[TResult] = func()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 262, in <lambda>\n    lambda: ihook(item=item, **kwds), when=when, reraise=reraise\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 177, in pytest_runtest_call\n    raise e\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/runner.py\", line 169, in pytest_runtest_call\n    item.runtest()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 1792, in runtest\n    self.ihook.pytest_pyfunc_call(pyfuncitem=self)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_hooks.py\", line 433, in __call__\n    return self._hookexec(self.name, self._hookimpls, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_manager.py\", line 112, in _hookexec\n    return self._inner_hookexec(hook_name, methods, kwargs, firstresult)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 155, in _multicall\n    return outcome.get_result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_result.py\", line 108, in get_result\n    raise exc.with_traceback(exc.__traceback__)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pluggy/_callers.py\", line 80, in _multicall\n    res = hook_impl.function(*args)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/_pytest/python.py\", line 194, in pytest_pyfunc_call\n    result = testfunction(**testargs)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/pytest_asyncio/plugin.py\", line 532, in inner\n    _loop.run_until_complete(task)\n  File \"/usr/lib/python3.10/asyncio/base_events.py\", line 649, in run_until_complete\n    return future.result()\n  File \"/home/runner/work/mysql-operator/mysql-operator/tests/integration/high_availability/test_upgrade_rollback_incompat.py\", line 149, in test_rollback\n    await ops_test.model.wait_for_idle(apps=[MYSQL_APP_NAME], status=\"active\", timeout=TIMEOUT)\n  File \"/home/runner/work/mysql-operator/mysql-operator/.tox/integration/lib/python3.10/site-packages/juju/model.py\", line 2757, in wait_for_idle\n    raise jasyncio.TimeoutError(\"Timed out waiting for model:\\n\" + busy)\nasyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","steps":[],"attachments":[{"uid":"ec583c4f21ee74ac","name":"log","source":"ec583c4f21ee74ac.txt","type":"text/plain","size":17954}],"parameters":[],"stepsCount":0,"shouldDisplayMessage":true,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::finalizer","time":{"start":1715046952424,"stop":1715046953445,"duration":1021},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1715046953445,"stop":1715046953445,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"ops_test::finalizer","time":{"start":1715046953446,"stop":1715046970358,"duration":16912},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1715046970359,"stop":1715046970359,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1715046970359,"stop":1715046970359,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1715046970359,"stop":1715046970359,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"stepsCount":0,"shouldDisplayMessage":false,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"unstable"},{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"group(1)"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_upgrade_rollback_incompat"},{"name":"host","value":"fv-az1019-20"},{"name":"thread","value":"7339-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_upgrade_rollback_incompat"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[],"categories":[{"name":"Test defects","matchedStatuses":[],"flaky":false}],"history":{"statistic":{"failed":0,"broken":25,"skipped":0,"passed":34,"unknown":0,"total":59},"items":[{"uid":"d8f2d9bd6666c620","reportUrl":"../2514//#testresult/d8f2d9bd6666c620","status":"passed","time":{"start":1714959377254,"stop":1714959989040,"duration":611786}},{"uid":"d1fccc1dc798811d","reportUrl":"../2513//#testresult/d1fccc1dc798811d","status":"passed","time":{"start":1714872970286,"stop":1714873433558,"duration":463272}},{"uid":"3db074bbdfac01f7","reportUrl":"../2512//#testresult/3db074bbdfac01f7","status":"passed","time":{"start":1714786801736,"stop":1714787381495,"duration":579759}},{"uid":"b231eabd250c2456","reportUrl":"../2505//#testresult/b231eabd250c2456","status":"passed","time":{"start":1714700099115,"stop":1714700565582,"duration":466467}},{"uid":"10c052afb8665d9c","reportUrl":"../2502//#testresult/10c052afb8665d9c","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","time":{"start":1714614080905,"stop":1714615324408,"duration":1243503}},{"uid":"93dc56ae8c73370","reportUrl":"../2496//#testresult/93dc56ae8c73370","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1714528148865,"stop":1714529392022,"duration":1243157}},{"uid":"880e2d495216cf0f","reportUrl":"../2487//#testresult/880e2d495216cf0f","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","time":{"start":1714354460681,"stop":1714355705663,"duration":1244982}},{"uid":"cec3eee4f00dd1b6","reportUrl":"../2483//#testresult/cec3eee4f00dd1b6","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1714268181717,"stop":1714269426036,"duration":1244319}},{"uid":"2d47f5ce9fa9fd51","reportUrl":"../2482//#testresult/2d47f5ce9fa9fd51","status":"passed","time":{"start":1714181773806,"stop":1714182265124,"duration":491318}},{"uid":"6b4385f40890a719","reportUrl":"../2479//#testresult/6b4385f40890a719","status":"passed","time":{"start":1714095439357,"stop":1714095985383,"duration":546026}},{"uid":"7074d9b0ac9f0982","reportUrl":"../2473//#testresult/7074d9b0ac9f0982","status":"passed","time":{"start":1714008899993,"stop":1714009477651,"duration":577658}},{"uid":"1ee001b4d886f980","reportUrl":"../2464//#testresult/1ee001b4d886f980","status":"passed","time":{"start":1713923035847,"stop":1713923496399,"duration":460552}},{"uid":"cd1601dbcf0ff6d3","reportUrl":"../2459//#testresult/cd1601dbcf0ff6d3","status":"passed","time":{"start":1713836118143,"stop":1713836691083,"duration":572940}},{"uid":"ff07e1fb5a0571ad","reportUrl":"../2457//#testresult/ff07e1fb5a0571ad","status":"passed","time":{"start":1713749711580,"stop":1713750186000,"duration":474420}},{"uid":"18d15c8221dfe72f","reportUrl":"../2456//#testresult/18d15c8221dfe72f","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1713663308902,"stop":1713664552138,"duration":1243236}},{"uid":"1aca0e7e49d6f058","reportUrl":"../2455//#testresult/1aca0e7e49d6f058","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] blocked: \n  mysql/2 [idle] waiting: other units upgrading first...","time":{"start":1713576922152,"stop":1713578166562,"duration":1244410}},{"uid":"7415b9432f5ebda5","reportUrl":"../2452//#testresult/7415b9432f5ebda5","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1713490530001,"stop":1713491775487,"duration":1245486}},{"uid":"d59d2e610eb08392","reportUrl":"../2445//#testresult/d59d2e610eb08392","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1713404125873,"stop":1713405371076,"duration":1245203}},{"uid":"258a7a4a793cd8ce","reportUrl":"../2437//#testresult/258a7a4a793cd8ce","status":"passed","time":{"start":1713317811073,"stop":1713318407649,"duration":596576}},{"uid":"b7dcd64c6afc4b84","reportUrl":"../2434//#testresult/b7dcd64c6afc4b84","status":"broken","statusDetails":"asyncio.exceptions.TimeoutError: Timed out waiting for model:\nmysql/0 [idle] waiting: other units upgrading first...\n  mysql/1 [idle] waiting: other units upgrading first...\n  mysql/2 [idle] blocked:","time":{"start":1713231569154,"stop":1713232815644,"duration":1246490}}]},"tags":["unstable","asyncio","abort_on_fail","group(1)"]},"source":"d330233584ee303f.json","parameterValues":[]}