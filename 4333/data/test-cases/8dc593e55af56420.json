{"uid":"8dc593e55af56420","name":"test_standby_promotion","fullName":"tests.integration.high_availability.test_async_replication#test_standby_promotion","historyId":"f50f2b7aa9d6f0ad1d763cacd40981bf","time":{"start":1761876719498,"stop":1761876770622,"duration":51124},"description":"Test graceful promotion of a standby cluster to primary.","descriptionHtml":"<p>Test graceful promotion of a standby cluster to primary.</p>\n","status":"passed","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":1,"retriesStatusChange":true,"beforeStages":[{"name":"juju","time":{"start":1761875672259,"stop":1761875676193,"duration":3934},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model","time":{"start":1761875676193,"stop":1761875676193,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model","time":{"start":1761875676193,"stop":1761875676529,"duration":336},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop","time":{"start":1761876679348,"stop":1761876679350,"duration":2},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"continuous_writes","time":{"start":1761876717355,"stop":1761876719497,"duration":2142},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail","time":{"start":1761876717355,"stop":1761876717355,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"testStage":{"description":"Test graceful promotion of a standby cluster to primary.","status":"passed","steps":[],"attachments":[{"uid":"e04df71cd3d8dd9d","name":"log","source":"e04df71cd3d8dd9d.txt","type":"text/plain","size":3632}],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":1,"hasContent":true,"attachmentStep":false},"afterStages":[{"name":"continuous_writes::0","time":{"start":1761876770623,"stop":1761876771424,"duration":801},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"abort_on_fail::0","time":{"start":1761876771425,"stop":1761876771425,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"second_model::0","time":{"start":1761877625892,"stop":1761877692430,"duration":66538},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"first_model::0","time":{"start":1761877692431,"stop":1761877692431,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"juju::0","time":{"start":1761877692431,"stop":1761877692619,"duration":188},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::2","time":{"start":1761877692620,"stop":1761877692620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_close_event_loop","time":{"start":1761877692620,"stop":1761877692620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false},{"name":"event_loop::_provide_clean_event_loop","time":{"start":1761877692620,"stop":1761877692620,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"shouldDisplayMessage":false,"stepsCount":0,"attachmentsCount":0,"hasContent":false,"attachmentStep":false}],"labels":[{"name":"tag","value":"abort_on_fail"},{"name":"tag","value":"@pytest.mark.skipif(False, reason='Requires juju 3+')"},{"name":"tag","value":"asyncio"},{"name":"parentSuite","value":"tests.integration.high_availability"},{"name":"suite","value":"test_async_replication"},{"name":"host","value":"runnervmwhb2z"},{"name":"thread","value":"15017-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"tests.integration.high_availability.test_async_replication"},{"name":"resultFormat","value":"allure2"}],"parameters":[],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"bba903cced0bc141","status":"unknown","time":{}}],"categories":[],"history":{"statistic":{"failed":0,"broken":8,"skipped":59,"passed":412,"unknown":18,"total":497},"items":[{"uid":"57c545b2d8237224","reportUrl":"../4331//#testresult/57c545b2d8237224","status":"passed","time":{"start":1761827699393,"stop":1761827742252,"duration":42859}},{"uid":"37400206bde6964e","reportUrl":"../4329//#testresult/37400206bde6964e","status":"passed","time":{"start":1761703765198,"stop":1761703800913,"duration":35715}},{"uid":"a2e0797d45e67ebd","reportUrl":"../4320//#testresult/a2e0797d45e67ebd","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 2: status 'failed', return code 1, details:\nStderr:\nUncaught KeyError in charm code: 'cluster-name'\nUse `juju debug-log` to see the full traceback.\n\nMessage: exit status 1","time":{"start":1761617903281,"stop":1761617907041,"duration":3760}},{"uid":"9340bbec0c4a0ddc","reportUrl":"../4317//#testresult/9340bbec0c4a0ddc","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 4: status 'failed', return code 0, details:\nMessage: Only a standby cluster can be promoted","time":{"start":1761531752909,"stop":1761531757331,"duration":4422}},{"uid":"3f9dba20b50f633d","reportUrl":"../4316//#testresult/3f9dba20b50f633d","status":"passed","time":{"start":1761443655238,"stop":1761443688922,"duration":33684}},{"uid":"59607738670a5c9d","reportUrl":"../4315//#testresult/59607738670a5c9d","status":"passed","time":{"start":1761360043071,"stop":1761360080838,"duration":37767}},{"uid":"a2bdb7d19efcc0ff","reportUrl":"../4309//#testresult/a2bdb7d19efcc0ff","status":"passed","time":{"start":1761271836390,"stop":1761271878948,"duration":42558}},{"uid":"a881c64d0efd68be","reportUrl":"../4303//#testresult/a881c64d0efd68be","status":"passed","time":{"start":1761186143172,"stop":1761186178997,"duration":35825}},{"uid":"6c3cfa5dc69fa2db","reportUrl":"../4295//#testresult/6c3cfa5dc69fa2db","status":"passed","time":{"start":1761104574835,"stop":1761104620826,"duration":45991}},{"uid":"158fc6095b5bd810","reportUrl":"../4283//#testresult/158fc6095b5bd810","status":"passed","time":{"start":1761011761404,"stop":1761011832012,"duration":70608}},{"uid":"554d8ba9767b717","reportUrl":"../4280//#testresult/554d8ba9767b717","status":"broken","statusDetails":"Exception: No leader unit found","time":{"start":1760926487397,"stop":1760926487397,"duration":0}},{"uid":"ebd1403183a84df6","reportUrl":"../4279//#testresult/ebd1403183a84df6","status":"broken","statusDetails":"Exception: No leader unit found","time":{"start":1760839461220,"stop":1760839461220,"duration":0}},{"uid":"bbb848c580d1ae64","reportUrl":"../4278//#testresult/bbb848c580d1ae64","status":"broken","statusDetails":"Exception: No leader unit found","time":{"start":1760779704171,"stop":1760779704171,"duration":0}},{"uid":"1c439334890581a2","reportUrl":"../4270//#testresult/1c439334890581a2","status":"broken","statusDetails":"jubilant_backports._task.TaskError: task error: Task 4: status 'failed', return code 0, details:\nMessage: Only a standby cluster can be promoted","time":{"start":1760686980764,"stop":1760686993255,"duration":12491}},{"uid":"3993fac4d3c0c724","reportUrl":"../4266//#testresult/3993fac4d3c0c724","status":"passed","time":{"start":1760581096654,"stop":1760581135100,"duration":38446}},{"uid":"bb1eae25bdc15c40","reportUrl":"../4260//#testresult/bb1eae25bdc15c40","status":"passed","time":{"start":1760494222380,"stop":1760494260347,"duration":37967}},{"uid":"a572303b64e2f4e6","reportUrl":"../4252//#testresult/a572303b64e2f4e6","status":"passed","time":{"start":1760410525196,"stop":1760410557100,"duration":31904}},{"uid":"b352bdd6ad5c81d5","reportUrl":"../4251//#testresult/b352bdd6ad5c81d5","status":"passed","time":{"start":1760322547106,"stop":1760322588581,"duration":41475}},{"uid":"bff724ff6055a699","reportUrl":"../4250//#testresult/bff724ff6055a699","status":"passed","time":{"start":1760236940509,"stop":1760236974355,"duration":33846}},{"uid":"e6f0bfc6abe207de","reportUrl":"../4249//#testresult/e6f0bfc6abe207de","status":"passed","time":{"start":1760149136570,"stop":1760149184833,"duration":48263}}]},"tags":["asyncio","abort_on_fail","@pytest.mark.skipif(False, reason='Requires juju 3+')"]},"source":"8dc593e55af56420.json","parameterValues":[]}